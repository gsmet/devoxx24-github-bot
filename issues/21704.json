{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/21704",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/21704/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/21704/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/21704/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/21704",
  "id": 1063714395,
  "node_id": "I_kwDOCFbutM4_Zv5b",
  "number": 21704,
  "title": "Strange config props inheritance behavior in multimodule projects",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273030910,
      "node_id": "MDU6TGFiZWwxMjczMDMwOTEw",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/config",
      "name": "area/config",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/162",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/162",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/162/labels",
    "id": 7471861,
    "node_id": "MI_kwDOCFbutM4AcgL1",
    "number": 162,
    "title": "2.5.2.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 52,
    "state": "closed",
    "created_at": "2021-12-09T09:28:05Z",
    "updated_at": "2021-12-10T13:14:15Z",
    "due_on": null,
    "closed_at": "2021-12-10T13:14:15Z"
  },
  "comments": 2,
  "created_at": "2021-11-25T15:24:09Z",
  "updated_at": "2021-12-09T09:30:37Z",
  "closed_at": "2021-12-03T18:25:51Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\n// GIVEN\r\n\r\nModule B inherits Module A as a dependency in multimodule project:\r\n`implementation(project(\":module-A\"))`\r\n\r\nModule A has the next props in application.yaml:\r\n\r\n```\r\nquarkus:\r\n  log:\r\n    level: DEBUG\r\n\r\n\"%dev\":\r\n  quarkus:\r\n    log:\r\n      level: DEBUG\r\n\r\n\"%prod\":\r\n  quarkus:\r\n    log:\r\n      level: DEBUG\r\n```\r\n\r\nModule B has the next props in application.yaml:\r\n\r\n```\r\nquarkus:\r\n  log:\r\n    level: INFO\r\n```\r\n\r\n// PROBLEM\r\n\r\nIf I run Module B in dev or prod mode log level is DEBUG.\r\nI expect it to be INFO because I configured the default log level in current Module B as INFO, and that must be inherited by all current module profiles.\r\n\r\nIt becomes a problem when I want to configure for example some Vault properties once per config and suddenly some vault configuration params are taken from another module that has Vault configured as well, and not from the default profile. I've spent a lot of time fixing this in a project. \r\n\r\n### Expected behavior\r\n\r\n**Module B** test/dev/prod config profiles are inherited from **Module B** default profile, not from Module A corresponding profiles.\r\n\r\n### Actual behavior\r\n\r\n**Module B** test/dev/prod config props are inherited from **Module A** corresponding profiles, not from Module B default profile.\r\n\r\n### How to Reproduce?\r\n\r\n[profiles-inheritance.zip](https://github.com/quarkusio/quarkus/files/7603907/profiles-inheritance.zip)\r\n\r\n1. run module profile-child in this multimodule project using gradle:\r\ngradle clean :profile-child:quarkusDev\r\n\r\n2. DEBUG logs are shown in the output instead of INFO \r\n\r\n### Output of `uname -a` or `ver`\r\n\r\n_No response_\r\n\r\n### Output of `java -version`\r\n\r\n_No response_\r\n\r\n### GraalVM version (if different from Java)\r\n\r\n_No response_\r\n\r\n### Quarkus version or git rev\r\n\r\n2.4.2.Final\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nGradle 7.0\r\n\r\n### Additional information\r\n\r\nI'm not sure if it is a bug but it's some confusing behavior.",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/21704/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/21704/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
