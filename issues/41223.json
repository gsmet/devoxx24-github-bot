{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/41223",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41223/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41223/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41223/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/41223",
  "id": 2354282002,
  "node_id": "I_kwDOCFbutM6MU34S",
  "number": 41223,
  "title": "Quarkus OIDC CredentialsProvider integration resolves secrets during BuildStep",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1479557456,
      "node_id": "MDU6TGFiZWwxNDc5NTU3NDU2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/oidc",
      "name": "area/oidc",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/335",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/335",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/335/labels",
    "id": 11174659,
    "node_id": "MI_kwDOCFbutM4AqoMD",
    "number": 335,
    "title": "3.13.0.CR1",
    "description": "",
    "creator": {
      "login": "quarkusbot",
      "id": 61254497,
      "node_id": "MDQ6VXNlcjYxMjU0NDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/61254497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quarkusbot",
      "html_url": "https://github.com/quarkusbot",
      "followers_url": "https://api.github.com/users/quarkusbot/followers",
      "following_url": "https://api.github.com/users/quarkusbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/quarkusbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarkusbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarkusbot/subscriptions",
      "organizations_url": "https://api.github.com/users/quarkusbot/orgs",
      "repos_url": "https://api.github.com/users/quarkusbot/repos",
      "events_url": "https://api.github.com/users/quarkusbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarkusbot/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 241,
    "state": "closed",
    "created_at": "2024-06-12T08:02:47Z",
    "updated_at": "2024-07-19T11:47:06Z",
    "due_on": null,
    "closed_at": "2024-07-17T11:55:13Z"
  },
  "comments": 6,
  "created_at": "2024-06-15T00:10:23Z",
  "updated_at": "2024-06-30T22:22:30Z",
  "closed_at": "2024-06-30T20:36:55Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nThe Quarkus OIDC Extension appears to deviate from norms that I've observed in other extensions that have support for `CredentialsProvider`s in that it attempts to resolve the secret value from the configured `CredentialsProvider` during `STATIC_INIT`. \r\n\r\nI successfully use the `CredentialsProvider` to provide credentials to various Quarkus extensions (such as the data source extension and the Quarkiverse GitHub App Extension). I store secrets for these extensions in AWS Secrets Manager and use `CredentialsProvider` as a bridge to provide these extensions with values from AWS Secrets Manager. To do this, I leverage the [Quarkiverse Amazon Services Secrets Manager Client](https://docs.quarkiverse.io/quarkus-amazon-services/2.12.x/amazon-secretsmanager.html) extension. This provides my application with a `SecretsManagerClient`. \r\n\r\nI recently tried to adopt the Quarkus OIDC extension and use the same pattern for safely storing and accessing secrets that this OIDC extension needs  at runtime in order to validate users from OIDC providers. \r\n\r\n\r\nI configured by application with the my desired OIDC provider, client ID, and client secret provider/key.\r\n\r\n\r\n```properties\r\nquarkus.oidc.provider=github\r\nquarkus.oidc.client-id=foo\r\nquarkus.oidc.credentials.client-secret.provider.name=aws-secrets-manager\r\nquarkus.oidc.credentials.client-secret.provider.key=bar\r\n```\r\n\r\nI then leveraged by previous pattern of using a `CredenentialsProvider` to resolve secrets from AWS SecretsManager\r\n\r\n\r\n```java\r\n@ApplicationScoped\r\n@Unremovable\r\n@Named(\"aws-secrets-manager\")\r\npublic class SecretsManagerCredentialsProvider implements CredentialsProvider {\r\n\r\n    private final ObjectMapper mapper;\r\n    private final SecretsManagerClient secrets;\r\n\r\n    @Inject\r\n    public SecretsManagerCredentialsProvider(final ObjectMapper mapper, final SecretsManagerClient secrets) {\r\n        this.mapper = mapper;\r\n        this.secrets = secrets;\r\n    }\r\n\r\n    /**\r\n     * @param credentialsProviderName in this context, this is the name of the secret in AWS Secrets\r\n     *     Manager. The Secret value is expected to be a JSON object (which is typical for AWS Secrets\r\n     *     Manager).\r\n     * @return the secret value as a map of key-value pairs\r\n     */\r\n    @Override\r\n    public Map<String, String> getCredentials(final String credentialsProviderName) {\r\n logger.debug(\"Getting credentials from secret: {}\", credentialsProviderName);\r\n        final GetSecretValueResponse response;\r\n        try {\r\n            response = secrets.getSecretValue(request -> request.secretId(credentialsProviderName));\r\n        } catch (final ResourceNotFoundException e) {\r\n            throw new IllegalArgumentException(\"Secret not found: \" + credentialsProviderName, e);\r\n        }\r\n        // ..  \r\n}\r\n```\r\n\r\nHowever, as a result, my application fails to initialize because the `SecretsManagerCredentialsProvider` is now required during the Quarkus OIDC `OidcBuildStep` and fails with the following error:\r\n\r\n\r\n```java\r\njava.lang.RuntimeException: java.lang.RuntimeException: Failed to start quarkus\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:642)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:726)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\nCaused by: java.lang.RuntimeException: Failed to start quarkus\r\n\tat io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n\tat io.quarkus.runtime.Application.start(Application.java:101)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.quarkus.runner.bootstrap.StartupActionImpl.run(StartupActionImpl.java:285)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:251)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:609)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:659)\r\n\t... 1 more\r\nCaused by: org.gradle.internal.exceptions.DefaultMultiCauseException: Multiple exceptions caught:\r\n\t[Exception 0] jakarta.enterprise.inject.CreationException: Error creating synthetic bean [oRj83jIPijUzp7JkawwrGWJy-G8]: jakarta.enterprise.inject.CreationException: Synthetic bean instance for software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder not initialized yet: software_amazon_awssdk_services_secretsmanager_SecretsManagerClientBuilder_35edabeaf18440581dc996704efe9686730c9848\r\n\t- a synthetic bean initialized during RUNTIME_INIT must not be accessed during STATIC_INIT\r\n\t- RUNTIME_INIT build steps that require access to synthetic beans initialized during RUNTIME_INIT should consume the SyntheticBeansRuntimeInitBuildItem\r\n\t[Exception 1] io.quarkus.oidc.OIDCException\r\n\tat io.smallrye.mutiny.operators.uni.UniOnFailureFlatMap$UniOnFailureFlatMapProcessor.performInnerSubscription(UniOnFailureFlatMap.java:94)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnFailureFlatMap$UniOnFailureFlatMapProcessor.dispatch(UniOnFailureFlatMap.java:83)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnFailureFlatMap$UniOnFailureFlatMapProcessor.onFailure(UniOnFailureFlatMap.java:60)\r\n\tat io.smallrye.mutiny.operators.uni.UniOperatorProcessor.onFailure(UniOperatorProcessor.java:55)\r\n\tat io.smallrye.mutiny.operators.uni.UniOperatorProcessor.onFailure(UniOperatorProcessor.java:55)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnItemOrFailureFlatMap$UniOnItemOrFailureFlatMapProcessor.performInnerSubscription(UniOnItemOrFailureFlatMap.java:91)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnItemOrFailureFlatMap$UniOnItemOrFailureFlatMapProcessor.onItem(UniOnItemOrFailureFlatMap.java:54)\r\n\tat io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem$KnownItemSubscription.forward(UniCreateFromKnownItem.java:38)\r\n\tat io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem.subscribe(UniCreateFromKnownItem.java:23)\r\n\tat io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnItemOrFailureFlatMap.subscribe(UniOnItemOrFailureFlatMap.java:27)\r\n\tat io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni.subscribe(UniOnItemTransformToUni.java:25)\r\n\tat io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnItemTransform.subscribe(UniOnItemTransform.java:22)\r\n\tat io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnFailureFlatMap.subscribe(UniOnFailureFlatMap.java:31)\r\n\tat io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n\tat io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:60)\r\n\tat io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:65)\r\n\tat io.quarkus.oidc.runtime.OidcRecorder.createStaticTenantContext(OidcRecorder.java:166)\r\n\tat io.quarkus.oidc.runtime.OidcRecorder.setup(OidcRecorder.java:88)\r\n\tat io.quarkus.deployment.steps.OidcBuildStep$setup1008959783.deploy_0(Unknown Source)\r\n\tat io.quarkus.deployment.steps.OidcBuildStep$setup1008959783.deploy(Unknown Source)\r\n\t... 8 more\r\n\tSuppressed: io.quarkus.oidc.OIDCException\r\n\t\tat io.quarkus.oidc.runtime.OidcRecorder$5.apply(OidcRecorder.java:163)\r\n\t\tat io.quarkus.oidc.runtime.OidcRecorder$5.apply(OidcRecorder.java:145)\r\n\t\tat io.smallrye.context.impl.wrappers.SlowContextualFunction.apply(SlowContextualFunction.java:21)\r\n\t\tat io.smallrye.mutiny.groups.UniOnFailure.lambda$recoverWithItem$8(UniOnFailure.java:190)\r\n\t\tat io.smallrye.mutiny.operators.uni.UniOnFailureFlatMap$UniOnFailureFlatMapProcessor.performInnerSubscription(UniOnFailureFlatMap.java:92)\r\n\t\t... 31 more\r\nCaused by: jakarta.enterprise.inject.CreationException: Error creating synthetic bean [oRj83jIPijUzp7JkawwrGWJy-G8]: jakarta.enterprise.inject.CreationException: Synthetic bean instance for software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder not initialized yet: software_amazon_awssdk_services_secretsmanager_SecretsManagerClientBuilder_35edabeaf18440581dc996704efe9686730c9848\r\n\t- a synthetic bean initialized during RUNTIME_INIT must not be accessed during STATIC_INIT\r\n\t- RUNTIME_INIT build steps that require access to synthetic beans initialized during RUNTIME_INIT should consume the SyntheticBeansRuntimeInitBuildItem\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder_oRj83jIPijUzp7JkawwrGWJy-G8_Synthetic_Bean.doCreate(Unknown Source)\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder_oRj83jIPijUzp7JkawwrGWJy-G8_Synthetic_Bean.create(Unknown Source)\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder_oRj83jIPijUzp7JkawwrGWJy-G8_Synthetic_Bean.create(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:119)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:38)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.generator.Default_jakarta_enterprise_context_ApplicationScoped_ContextInstances.c20(Unknown Source)\r\n\tat io.quarkus.arc.generator.Default_jakarta_enterprise_context_ApplicationScoped_ContextInstances.computeIfAbsent(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:21)\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder_oRj83jIPijUzp7JkawwrGWJy-G8_Synthetic_ClientProxy.arc$delegate(Unknown Source)\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder_oRj83jIPijUzp7JkawwrGWJy-G8_Synthetic_ClientProxy.build(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer.<init>(SecretsManagerClientProducer.java:21)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_Bean.doCreate(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_Bean.create(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_Bean.create(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:119)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:38)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.generator.Default_jakarta_enterprise_context_ApplicationScoped_ContextInstances.c11(Unknown Source)\r\n\tat io.quarkus.arc.generator.Default_jakarta_enterprise_context_ApplicationScoped_ContextInstances.computeIfAbsent(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:21)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_ClientProxy.arc$delegate(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_ClientProxy.arc_contextualInstance(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_ProducerMethod_client_o2u827DJgDuZ1zCfbjV6TqIsxgk_Bean.doCreate(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_ProducerMethod_client_o2u827DJgDuZ1zCfbjV6TqIsxgk_Bean.create(Unknown Source)\r\n\tat io.quarkus.amazon.secretsmanager.runtime.SecretsManagerClientProducer_ProducerMethod_client_o2u827DJgDuZ1zCfbjV6TqIsxgk_Bean.create(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:119)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:38)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.generator.Default_jakarta_enterprise_context_ApplicationScoped_ContextInstances.c13(Unknown Source)\r\n\tat io.quarkus.arc.generator.Default_jakarta_enterprise_context_ApplicationScoped_ContextInstances.computeIfAbsent(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:21)\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientProducer_ProducerMethod_client_o2u827DJgDuZ1zCfbjV6TqIsxgk_ClientProxy.arc$delegate(Unknown Source)\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientProducer_ProducerMethod_client_o2u827DJgDuZ1zCfbjV6TqIsxgk_ClientProxy.getSecretValue(Unknown Source)\r\n\tat org.acme.SecretsManagerCredentialsProvider.getCredentials(SecretsManagerCredentialsProvider.java:45)\r\n\tat org.acme.SecretsManagerCredentialsProvider_ClientProxy.getCredentials(Unknown Source)\r\n\tat io.quarkus.oidc.common.runtime.OidcCommonUtils$1.get(OidcCommonUtils.java:317)\r\n\tat io.quarkus.oidc.common.runtime.OidcCommonUtils$1.get(OidcCommonUtils.java:309)\r\n\tat java.base@21.0.3/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat io.quarkus.oidc.common.runtime.OidcCommonUtils.clientSecret(OidcCommonUtils.java:297)\r\n\tat io.quarkus.oidc.common.runtime.OidcCommonUtils.initClientSecretBasicAuth(OidcCommonUtils.java:421)\r\n\tat io.quarkus.oidc.runtime.OidcProviderClient.<init>(OidcProviderClient.java:66)\r\n\tat io.quarkus.oidc.runtime.OidcRecorder$11.apply(OidcRecorder.java:556)\r\n\tat io.quarkus.oidc.runtime.OidcRecorder$11.apply(OidcRecorder.java:523)\r\n\tat io.smallrye.context.impl.wrappers.SlowContextualBiFunction.apply(SlowContextualBiFunction.java:21)\r\n\tat io.smallrye.mutiny.operators.uni.UniOnItemOrFailureFlatMap$UniOnItemOrFailureFlatMapProcessor.performInnerSubscription(UniOnItemOrFailureFlatMap.java:86)\r\n\t... 26 more\r\nCaused by: jakarta.enterprise.inject.CreationException: Synthetic bean instance for software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder not initialized yet: software_amazon_awssdk_services_secretsmanager_SecretsManagerClientBuilder_35edabeaf18440581dc996704efe9686730c9848\r\n\t- a synthetic bean initialized during RUNTIME_INIT must not be accessed during STATIC_INIT\r\n\t- RUNTIME_INIT build steps that require access to synthetic beans initialized during RUNTIME_INIT should consume the SyntheticBeansRuntimeInitBuildItem\r\n\tat software.amazon.awssdk.services.secretsmanager.SecretsManagerClientBuilder_oRj83jIPijUzp7JkawwrGWJy-G8_Synthetic_Bean.createSynthetic(Unknown Source)\r\n\t... 75 more\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\n`CredentialsProvider` implementations can leverage beans produced by other Quarkus extensions, especially the `SecretsManagerClient`, which is a pretty ideal bean to use in a `CredentialsProvider`.\r\n\r\n\r\nIt might be possible to resolve this issue using the `SyntheticBeansRuntimeInitBuildItem`, but I think in practice the config validation that happens during this build step should not resolve the value from the `CredentialsProvider` in the scope of a build step (even a RUNTIME_INIT one). More similar to how `gsmet` [added support](https://github.com/quarkiverse/quarkus-github-app/pull/601) for the `CredentialsProvider` interface in the Quarkiverse Quarkus GitHub App Extension.\r\n\r\n### Actual behavior\r\n\r\nThe application fails to initialize.\r\n\r\n### How to Reproduce?\r\n\r\n1. Clone this reproducer repository: https://github.com/ryandens/quarkus-oidc-secrets-manager\r\n2. Run the build: `./gradlew build` or run dev mode `./gradlew quarkusDev`\r\n3. Observe the failure: https://scans.gradle.com/s/5vyysmt4kfphi/tests/task/:test/details/org.acme.GreetingResourceTest/testHelloEndpoint()?expanded-stacktrace=WyIwLTEtMiIsIjAtMSIsIjAtMS0yLTMiLCIwLTEtMi00IiwiMC0xLTItMy01IiwiMC0xLTItNC02Il0&top-execution=1\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\nDarwin 23.4.0 Darwin Kernel Version 23.4.0: Fri Mar 15 00:12:49 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T6020 arm64\r\n\r\n### Output of `java -version`\r\n\r\nOpenJDK Runtime Environment Temurin-21.0.3+9 (build 21.0.3+9-LTS)\r\n\r\n### Quarkus version or git rev\r\n\r\n3.11.2\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nGradle 8.7\r\n\r\n### Additional information\r\n\r\nhttps://scans.gradle.com/s/5vyysmt4kfphi\r\n\r\n\r\nIf anyone else encounters this issue and is interested in a workaround, you can simply not use the `SecretsManagerClient` provided by the Quarkus Amazon Services extension and write a `CredentialsProvider` implementation like this:\r\n\r\n```java\r\n    @Inject\r\n    public SecretsManagerCredentialsProvider(final ObjectMapper mapper) {\r\n        this.mapper = mapper;\r\n        this.secrets = SecretsManagerClient.create();\r\n    }\r\n```\r\n\r\n\r\nHowever, you then lose the ability to easily test these resources with `@QuarkusTest` and localstack without having to manually configure the `SecretsManagerClient` to point to localstack",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/41223/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41223/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
