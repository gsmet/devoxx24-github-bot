{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39978",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39978/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39978/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39978/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/39978",
  "id": 2234518488,
  "node_id": "I_kwDOCFbutM6FMAvY",
  "number": 39978,
  "title": "Hot Reloading conflicts with Maven Flatten Plugin",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1282136257,
      "node_id": "MDU6TGFiZWwxMjgyMTM2MjU3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/maven",
      "name": "area/maven",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/328",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/328",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/328/labels",
    "id": 11051630,
    "node_id": "MI_kwDOCFbutM4AqKJu",
    "number": 328,
    "title": "3.8.5",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 112,
    "state": "closed",
    "created_at": "2024-05-14T13:22:35Z",
    "updated_at": "2024-06-05T11:10:12Z",
    "due_on": null,
    "closed_at": "2024-06-05T11:10:12Z"
  },
  "comments": 3,
  "created_at": "2024-04-10T00:21:46Z",
  "updated_at": "2024-05-15T14:01:51Z",
  "closed_at": "2024-04-10T12:29:12Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nSo, an odd issue, when running `mvn quarkus:dev`, the Maven Flatten plugin is involved, and I believe projects where the flatten is a direct plugin (inheriting from the main parent POM) - hot-reload does not seem to work.\r\n\r\nThe updated POMs from the flatten plugin look correct and the runnable service works fine just not hot-reload during development.\r\n\r\nWithout the flatten plugin the project will work.\r\n\r\n### Expected behavior\r\n\r\nHot-reload recognizes changes in the module where quarkus:dev was run and recognizes changes in other modules within the same parent.\r\n\r\n\r\n\r\n### Actual behavior\r\n\r\nWhen the Flatten plugin is involved the project does not recognize changes in source files.  \r\n\r\nWithout it or skipped it does work and in simpler single projects it works fine even with the flatten plugin (oddly, the pattern for the simpler projects is the flatten plugin is defined a level higher in another parent).\r\n\r\n### How to Reproduce?\r\n\r\n1. Unzip the project\r\n2. `mvn install` from the root\r\n3. `cd quickstart-rest`\r\n\r\n**Reproduce:**\r\n4. `mvn quarkus:dev`\r\n5. Change the `User` class in quickstart-core, save it.\r\n6. Reload the running service (`s`) - note, no changes are recognized.\r\n\r\n**Working:**\r\n4. `mvn quarkus:dev -flatten.skip=true`\r\n5. Change the `User` class in quickstart-core, save it.\r\n6. Reload the running service (`s`) - note, changes are recognized now.\r\n\r\n> Our work-around is a profile that applies that property only on the project where we see the problem.\r\n\r\n[quarkus-multi-module-project-quickstart.zip](https://github.com/quarkusio/quarkus/files/14925451/quarkus-multi-module-project-quickstart.zip)\r\n\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\n_No response_\r\n\r\n### Output of `java -version`\r\n\r\n17\r\n\r\n### Quarkus version or git rev\r\n\r\n3.9.2\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nMaven 3.9.5\r\n\r\n### Additional information\r\n\r\nThis could be a complete edge-case coupled with the combination of Maven friendly-versions and the Flatten plugin (which we need to deploy the version-friendly versions) but since it does work with simpler/single projects, even with the Flatten plugin involved, I though I would at least bring it up.  Where is does not work is consistent across projects with the same setup.",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39978/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39978/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
