{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/30516",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/30516/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/30516/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/30516/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/30516",
  "id": 1551260238,
  "node_id": "I_kwDOCFbutM5cdlpO",
  "number": 30516,
  "title": "Customize application ObjectMapper can impact Keycloak admin client",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 3289887215,
      "node_id": "MDU6TGFiZWwzMjg5ODg3MjE1",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/keycloak",
      "name": "area/keycloak",
      "color": "0366d6",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/228",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/228",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/228/labels",
    "id": 8842745,
    "node_id": "MI_kwDOCFbutM4Ahu35",
    "number": 228,
    "title": "3.0.0.Alpha4",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 323,
    "state": "closed",
    "created_at": "2023-01-11T08:43:57Z",
    "updated_at": "2023-07-20T16:42:38Z",
    "due_on": null,
    "closed_at": "2023-02-09T15:24:11Z"
  },
  "comments": 21,
  "created_at": "2023-01-20T18:09:55Z",
  "updated_at": "2023-01-24T12:15:51Z",
  "closed_at": "2023-01-24T12:15:47Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nFor a front application that required a snake case naming strategy I've customize the application ObjectMapper by adding this ObjectMapperCustomizer.\r\n```java\r\n@Singleton\r\npublic class CustomizeObjectMapper implements ObjectMapperCustomizer {\r\n    public void customize(ObjectMapper mapper) {\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE);\r\n    }\r\n}\r\n```\r\n\r\nthe most important line is \r\n\r\n```java\r\nmapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE);\r\n```\r\n\r\nThe application also allows you to list the users managed in keycloak by using the **quarkus-keycloak-admin-client-reactive** for this.\r\n\r\n\r\nBut io.quarkus.keycloak.admin.client.reactive.runtime.ResteasyReactiveClientProvider#getObjectMapper have the comment :\r\n\r\n`// the whole idea here is to reuse the ObjectMapper instance`\r\n\r\nSo keycloak admin client resuse a customized ObjectMapper which is not compatible with keycloak naming strategy.\n\n### Expected behavior\n\nKeycloak users must be returned with all of their properties valued: Id, Username, FirstName, LastName, ....\n\n### Actual behavior\n\nKeycloak users are all returned, but some properties are not set. These, for example FistName or LastName remain empty. \r\n\r\nThese are the properties whose name is impacted by the overloaded snake case strategy in ObjectMapperCustomizer.\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\nUbuntu 22.10\n\n### Output of `java -version`\n\nopenjdk version \"19.0.1\" 2022-10-18\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n2.15.3.Final\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nApache Maven 3.8.6\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/30516/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/30516/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
