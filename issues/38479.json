{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/38479",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/38479/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/38479/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/38479/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/38479",
  "id": 2108120993,
  "node_id": "I_kwDOCFbutM59p1-h",
  "number": 38479,
  "title": "Stricter and false positive env variables validation after upgrade to 3.7.0",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273030910,
      "node_id": "MDU6TGFiZWwxMjczMDMwOTEw",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/config",
      "name": "area/config",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1654772125,
      "node_id": "MDU6TGFiZWwxNjU0NzcyMTI1",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/kubernetes",
      "name": "area/kubernetes",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/307",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/307",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/307/labels",
    "id": 10499697,
    "node_id": "MI_kwDOCFbutM4AoDZx",
    "number": 307,
    "title": "3.7.2",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 45,
    "state": "closed",
    "created_at": "2024-02-01T11:59:43Z",
    "updated_at": "2024-03-12T13:30:51Z",
    "due_on": null,
    "closed_at": "2024-02-08T11:30:05Z"
  },
  "comments": 34,
  "created_at": "2024-01-30T15:18:52Z",
  "updated_at": "2024-02-07T17:59:29Z",
  "closed_at": "2024-02-07T17:59:28Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nThis is not really a bug per se, but more a gotcha. The 3.7.0 version ensures now that when an environment variable matches the application configuration key -- it will assume that this env variable is for the application itself and it will try to map it within the application.\r\n\r\nIn my case this prevented the app to start.\r\n\r\n```\r\nJan 30, 2024 10:53:22 AM org.hibernate.resource.beans.container.spi.AbstractCdiBeanContainer stop\r\nINFO: HHH10005004: Stopping BeanContainer : io.quarkus.hibernate.orm.runtime.cdi.QuarkusArcBeanContainer@3a709cc7\r\nConfiguration validation failed:\r\n\tSRCFG00050: sbomer.service.service.host in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.cache.port[7070]tcp in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.cache.port[7070]tcp.proto in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.service.port[80]tcp.addr in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.postgres.service.port.http in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.service.port in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.route.host in EnvConfigSource does not map to any root\r\n\tSRCFG00050: sbomer.postgres.port[5432]tcp.proto in EnvConfigSource does not map to any root\r\n```\r\n\r\nThe problem was that the env variables were not under my control as these were generated by Kubernetes based on service names.\r\n\r\nIt may be common for applications to behave similarly after upgrade to 3.7.0.\n\n### Expected behavior\n\n_No response_\n\n### Actual behavior\n\n_No response_\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\n_No response_\n\n### Quarkus version or git rev\n\n_No response_\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/38479/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/38479/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
