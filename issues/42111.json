{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/42111",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/42111/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/42111/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/42111/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/42111",
  "id": 2427789489,
  "node_id": "I_kwDOCFbutM6QtSCx",
  "number": 42111,
  "title": "Our Nightly Quarkus build deploy to Nexus was failing after the gradle upgrade to 8.9",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273026591,
      "node_id": "MDU6TGFiZWwxMjczMDI2NTkx",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/gradle",
      "name": "area/gradle",
      "color": "0366d6",
      "default": false,
      "description": "Gradle"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/341",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/341",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/341/labels",
    "id": 11324154,
    "node_id": "MI_kwDOCFbutM4ArMr6",
    "number": 341,
    "title": "3.14.0.CR1",
    "description": "",
    "creator": {
      "login": "quarkusbot",
      "id": 61254497,
      "node_id": "MDQ6VXNlcjYxMjU0NDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/61254497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quarkusbot",
      "html_url": "https://github.com/quarkusbot",
      "followers_url": "https://api.github.com/users/quarkusbot/followers",
      "following_url": "https://api.github.com/users/quarkusbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/quarkusbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarkusbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarkusbot/subscriptions",
      "organizations_url": "https://api.github.com/users/quarkusbot/orgs",
      "repos_url": "https://api.github.com/users/quarkusbot/repos",
      "events_url": "https://api.github.com/users/quarkusbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarkusbot/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 192,
    "state": "closed",
    "created_at": "2024-07-17T08:04:03Z",
    "updated_at": "2024-08-29T19:11:05Z",
    "due_on": null,
    "closed_at": "2024-08-14T11:26:07Z"
  },
  "comments": 3,
  "created_at": "2024-07-24T14:46:48Z",
  "updated_at": "2024-07-31T08:37:48Z",
  "closed_at": "2024-07-31T08:37:44Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nFrom the last gradle bump upgrade to 8.9 (https://github.com/quarkusio/quarkus/pull/41953) our nighly jenkins jobs is failing on quarkus-project-core-extension-codestarts and it worked with gradle 8.8 version.\r\n\r\nLogs with the last gradle upgrade(8.9) :\r\n\r\n```\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --------< io.quarkus:quarkus-project-core-extension-codestarts >--------\r\n22:42:40 [INFO] Building Quarkus - Dev tools - Project Core Extension Codestarts 999-SNAPSHOT [909/1293]\r\n22:42:40 [INFO] --------------------------------[ jar ]---------------------------------\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- buildnumber-maven-plugin:3.0.0:create (get-scm-revision) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- formatter-maven-plugin:2.24.1:format (default) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] Loaded from the build cache\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- impsort-maven-plugin:1.11.0:sort (sort-imports) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] Processed 0 files in 00:00.000 (Already Sorted: 0, Needed Sorting: 0)\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- maven-resources-plugin:3.3.1:resources (default-resources) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] Copying 182 resources from src/main/resources to target/classes\r\n22:42:40 [INFO] Copying 1 resource from src/main/filtered to target/classes\r\n22:42:40 [INFO] The encoding used to copy filtered properties files have not been set. This means that the same encoding will be used to copy filtered properties files as when copying other filtered resources. This might not be what you want! Run your build with --debug to see which files might be affected. Read more at https://maven.apache.org/plugins/maven-resources-plugin/examples/filtering-properties-files.html\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- maven-compiler-plugin:3.13.0:compile (default-compile) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] No sources to compile\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- maven-resources-plugin:3.3.1:testResources (default-testResources) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] skip non existing resourceDirectory /home/hudson/hudson_workspace/workspace/utils-deploy-quarkus-main-artifacts-to-internal-repository/devtools/project-core-extension-codestarts/src/test/resources\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- maven-compiler-plugin:3.13.0:testCompile (default-testCompile) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] No sources to compile\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- maven-surefire-plugin:3.2.5:test (default-test) @ quarkus-project-core-extension-codestarts ---\r\n22:42:40 [INFO] No tests to run.\r\n22:42:40 [INFO] Skipped\r\n22:42:40 [INFO] \r\n22:42:40 [INFO] --- exec-maven-plugin:3.1.0:exec (generate-gradle-wrapper) @ quarkus-project-core-extension-codestarts ---\r\n22:42:41 To honour the JVM settings for this build a single-use Daemon process will be forked. For more on this, please refer to https://docs.gradle.org/8.9/userguide/gradle_daemon.html#sec:disabling_the_daemon in the Gradle documentation.\r\n22:42:42 Daemon will be stopped at the end of the build \r\n22:42:51 > Task :init FAILED\r\n22:42:51 \r\n22:42:51 FAILURE: Build failed with an exception.\r\n22:42:51 \r\n22:42:51 * What went wrong:\r\n22:42:51 Execution failed for task ':init'.\r\n22:42:51 > Aborting build initialization due to existing files in the project directory: '/home/hudson/hudson_workspace/workspace/utils-deploy-quarkus-main-artifacts-to-internal-repository/devtools/project-core-extension-codestarts/target/classes/gradle-wrapper'.\r\n22:42:51 \r\n22:42:51 * Try:\r\n22:42:51 > Remove any existing files in the project directory and run the init task again.\r\n22:42:51 > Enable the --overwrite option to allow existing files to be overwritten.\r\n22:42:51 > Run with --stacktrace option to get the stack trace.\r\n22:42:51 > Run with --info or --debug option to get more log output.\r\n22:42:51 > Run with --scan to get full insights.\r\n22:42:51 > Get more help at https://help.gradle.org/.\r\n22:42:51 \r\n22:42:51 BUILD FAILED in 10s\r\n22:42:51 1 actionable task: 1 executed\r\n22:42:51 [ERROR] Command execution failed.\r\n22:42:51 org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n22:42:51     at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n22:42:51     at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n22:42:51     at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\r\n22:42:51     at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\r\n22:42:51     at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\r\n22:42:51     at com.gradle.maven.cache.extension.d.c.a (SourceFile:27)\r\n22:42:51     at com.gradle.maven.cache.extension.d.n.a (SourceFile:23)\r\n22:42:51     at com.gradle.maven.cache.extension.d.h.a (SourceFile:28)\r\n22:42:51     at com.gradle.maven.cache.extension.d.m.a (SourceFile:27)\r\n22:42:51     at com.gradle.maven.cache.extension.d.a.c (SourceFile:118)\r\n22:42:51     at com.gradle.maven.cache.extension.d.a.a (SourceFile:62)\r\n22:42:51     at com.gradle.maven.cache.extension.d.e.a (SourceFile:27)\r\n22:42:51     at com.gradle.maven.cache.extension.d.l.a (SourceFile:17)\r\n22:42:51     at com.gradle.maven.cache.extension.d.d.a (SourceFile:47)\r\n22:42:51     at com.gradle.maven.cache.extension.d.b.a (SourceFile:26)\r\n22:42:51     at com.gradle.maven.cache.extension.d.f$1.run (SourceFile:35)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute (SourceFile:29)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute (SourceFile:26)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute (SourceFile:66)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute (SourceFile:59)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner.execute (SourceFile:157)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner.execute (SourceFile:59)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner.run (SourceFile:47)\r\n22:42:51     at com.gradle.maven.cache.extension.d.f.a (SourceFile:31)\r\n22:42:51     at com.gradle.maven.cache.extension.d.k.a (SourceFile:80)\r\n22:42:51     at com.gradle.maven.cache.extension.h.b.lambda$createProxy$0 (SourceFile:79)\r\n22:42:51     at jdk.proxy38.$Proxy121.execute (Unknown Source)\r\n22:42:51     at com.gradle.maven.scan.extension.internal.d.a.executeMojo (SourceFile:116)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n22:42:51     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n22:42:51     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n22:42:51     at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n22:42:51     at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n22:42:51     at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n22:42:51     at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n22:42:51     at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n22:42:51     at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n22:42:51     at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n22:42:51     at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n22:42:51     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n22:42:51     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n22:42:51     at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n22:42:51     at java.lang.reflect.Method.invoke (Method.java:568)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n``` \r\nmvn command used:\r\n` mvn -V -B -s nexus-deploy-settings.xml deploy -Dquickly -Prelocations -Dinsecure.repositories=WARN`\r\n\r\nI've executed same mvn commands on a previous commit (33d34131c6f60d4ce3322fd973616addf9ea18a9) with gradle 8.8 and the build succeed without problems: \r\n```\r\nBUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  8.356 s\r\n[INFO] Finished at: 2024-07-24T13:16:58Z\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] 13 goals, 12 executed, 1 from cache\r\n```\n\n### Expected behavior\n\nBUILD SUCCESS\n\n### Actual behavior\n\n```\r\n22:42:40 [INFO] --- exec-maven-plugin:3.1.0:exec (generate-gradle-wrapper) @ quarkus-project-core-extension-codestarts ---\r\n22:42:41 To honour the JVM settings for this build a single-use Daemon process will be forked. For more on this, please refer to https://docs.gradle.org/8.9/userguide/gradle_daemon.html#sec:disabling_the_daemon in the Gradle documentation.\r\n22:42:42 Daemon will be stopped at the end of the build \r\n22:42:51 > Task :init FAILED\r\n22:42:51 \r\n22:42:51 FAILURE: Build failed with an exception.\r\n22:42:51 \r\n22:42:51 * What went wrong:\r\n22:42:51 Execution failed for task ':init'.\r\n22:42:51 > Aborting build initialization due to existing files in the project directory: '/home/hudson/hudson_workspace/workspace/utils-deploy-quarkus-main-artifacts-to-internal-repository/devtools/project-core-extension-codestarts/target/classes/gradle-wrapper'.\r\n22:42:51 \r\n22:42:51 * Try:\r\n22:42:51 > Remove any existing files in the project directory and run the init task again.\r\n22:42:51 > Enable the --overwrite option to allow existing files to be overwritten.\r\n22:42:51 > Run with --stacktrace option to get the stack trace.\r\n22:42:51 > Run with --info or --debug option to get more log output.\r\n22:42:51 > Run with --scan to get full insights.\r\n22:42:51 > Get more help at https://help.gradle.org/.\r\n22:42:51 \r\n22:42:51 BUILD FAILED in 10s\r\n22:42:51 1 actionable task: 1 executed\r\n22:42:51 [ERROR] Command execution failed.\r\n22:42:51 org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n22:42:51     at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n22:42:51     at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n22:42:51     at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\r\n22:42:51     at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\r\n22:42:51     at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\r\n22:42:51     at com.gradle.maven.cache.extension.d.c.a (SourceFile:27)\r\n22:42:51     at com.gradle.maven.cache.extension.d.n.a (SourceFile:23)\r\n22:42:51     at com.gradle.maven.cache.extension.d.h.a (SourceFile:28)\r\n22:42:51     at com.gradle.maven.cache.extension.d.m.a (SourceFile:27)\r\n22:42:51     at com.gradle.maven.cache.extension.d.a.c (SourceFile:118)\r\n22:42:51     at com.gradle.maven.cache.extension.d.a.a (SourceFile:62)\r\n22:42:51     at com.gradle.maven.cache.extension.d.e.a (SourceFile:27)\r\n22:42:51     at com.gradle.maven.cache.extension.d.l.a (SourceFile:17)\r\n22:42:51     at com.gradle.maven.cache.extension.d.d.a (SourceFile:47)\r\n22:42:51     at com.gradle.maven.cache.extension.d.b.a (SourceFile:26)\r\n22:42:51     at com.gradle.maven.cache.extension.d.f$1.run (SourceFile:35)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute (SourceFile:29)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute (SourceFile:26)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute (SourceFile:66)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute (SourceFile:59)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner.execute (SourceFile:157)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner.execute (SourceFile:59)\r\n22:42:51     at org.gradle.internal.operations.DefaultBuildOperationRunner.run (SourceFile:47)\r\n22:42:51     at com.gradle.maven.cache.extension.d.f.a (SourceFile:31)\r\n22:42:51     at com.gradle.maven.cache.extension.d.k.a (SourceFile:80)\r\n22:42:51     at com.gradle.maven.cache.extension.h.b.lambda$createProxy$0 (SourceFile:79)\r\n22:42:51     at jdk.proxy38.$Proxy121.execute (Unknown Source)\r\n22:42:51     at com.gradle.maven.scan.extension.internal.d.a.executeMojo (SourceFile:116)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n22:42:51     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n22:42:51     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n22:42:51     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n22:42:51     at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n22:42:51     at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n22:42:51     at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n22:42:51     at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n22:42:51     at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n22:42:51     at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n22:42:51     at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n22:42:51     at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n22:42:51     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n22:42:51     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n22:42:51     at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n22:42:51     at java.lang.reflect.Method.invoke (Method.java:568)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n22:42:51     at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n``` \n\n### How to Reproduce?\n\n1. Just with mvn command `mvn -V -B -f devtools/project-core-extension-codestarts -s nexus-deploy-settings.xml deploy -Dquickly -Prelocations -Dinsecure.repositories=WARN`\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\n_No response_\n\n### Quarkus version or git rev\n\n_No response_\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/42111/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/42111/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
