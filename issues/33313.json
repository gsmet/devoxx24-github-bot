{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/33313",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/33313/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/33313/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/33313/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/33313",
  "id": 1706014046,
  "node_id": "I_kwDOCFbutM5lr7Ve",
  "number": 33313,
  "title": "Add posibility to have extra custom tags in HTTP metrics",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1283619446,
      "node_id": "MDU6TGFiZWwxMjgzNjE5NDQ2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye",
      "name": "area/smallrye",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2236031886,
      "node_id": "MDU6TGFiZWwyMjM2MDMxODg2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/metrics",
      "name": "area/metrics",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/255",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/255",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/255/labels",
    "id": 9565017,
    "node_id": "MI_kwDOCFbutM4AkfNZ",
    "number": 255,
    "title": "3.3.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 310,
    "state": "closed",
    "created_at": "2023-06-21T07:35:19Z",
    "updated_at": "2024-05-17T05:53:43Z",
    "due_on": null,
    "closed_at": "2023-08-09T11:23:12Z"
  },
  "comments": 22,
  "created_at": "2023-05-11T15:06:21Z",
  "updated_at": "2023-07-05T13:24:12Z",
  "closed_at": "2023-07-05T13:24:07Z",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nCurrently Quarkus provides out-of-the-box metrics for the client and server HTTP requests. This metric has a fixed set of tags: `uri`, `status`, `outcome` and `method`.\r\n\r\nI would like to have a possibility to register some kind of custom metric provider that can add extra tags for each HTTP requests. The provider can have an interface like:\r\n\r\n```\r\ninterface CustomHttpTagsProvider {\r\n\r\n   Tags tags(HttpRequest request, HttpResponse response);\r\n   \r\n}\r\n```\r\n\r\n### Use case\r\n\r\nIn some cases, the HTTP APIs are designed in the way that a single endpoint serves for multiple different operations. Take, for example, the command pattern. In such situation you can have an endpoints that can receive different types of the commands. Since metrics are bounded only to `uri` & `method` at the moment, in such use-case I can not differentiate and have metrics split for different commands.\r\n\r\nI am pretty sure there are other use-cases here.\r\n\r\n### Implementation ideas\r\n\r\n* Allow users to provide implementation of the tags provider\r\n* If not provided, fall back to the no-op provider that returns no tags\r\n\r\n> NOTE: I would be up in contributing here if we agree how this should be done in general and get some guidelines on the preferred solution from Quarkus team.",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/33313/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/33313/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
