{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/41055",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41055/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41055/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41055/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/41055",
  "id": 2340181448,
  "node_id": "I_kwDOCFbutM6LfFXI",
  "number": 41055,
  "title": "Random behavior for QuarkusRestClientBuilder vs Native (Java interface) REST client",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 985346625,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjU=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/triage/invalid",
      "name": "triage/invalid",
      "color": "e4e669",
      "default": false,
      "description": "This doesn't seem right"
    },
    {
      "id": 1326067509,
      "node_id": "MDU6TGFiZWwxMzI2MDY3NTA5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/rest-client",
      "name": "area/rest-client",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2497075451,
      "node_id": "MDU6TGFiZWwyNDk3MDc1NDUx",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/native-image",
      "name": "area/native-image",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": null,
  "comments": 7,
  "created_at": "2024-06-07T10:55:15Z",
  "updated_at": "2024-06-07T13:19:52Z",
  "closed_at": "2024-06-07T12:12:55Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nWe faced up an issue without understanding the reasons behind.\r\nWe used the QuarkusRestClientBuilder to create REST client in order to be able to control Java final API and some functionalities (control the result and behavior...).\r\n\r\nWe've done QuarkusTest and everything is OK (using client, whatever native (Java interface) or QuarkusRestClientBuilder), but when we deployed, we've got errors. \r\n\r\nOne of the error we were able to reproduce is:\r\n- Running in QuarkusTest is OK for all\r\n- Launching server (java -jar target/quarkus-app/quarkus-run.jar in server module), then launching test using client from a third party (QuarkusTest in client-test module) is OK for all\r\n- Launching server (java -jar target/quarkus-app/quarkus-run.jar in server module), then launching client main method from a third party (client-test module) is randomly KO for QuarkusRestClientBuilder but OK (sadly most of the times) for native (Java interface client)\r\n\r\nAs our client was able to \"close\" the underlying client, we provided 2 clients implementations, one with effective closing, the other one with no close at all. The behaviors are the same.\r\n\r\nWe cannot find the reason of these random behaviors.\r\n\r\nNote also, that we tried 2 ways to POST InputStream, since we've got issues on client side to send InputStream but working fine with byte array (the server being the same, only client is changing), but as we were not yet able to create a reproducer, we decided to at least provide this issue.\r\n\r\nOf course, we might have wrongly setup some things or write bad codes, but as long as we understand, this should be ok. So feel free to correct us if we made something wrong.\r\n\r\n### Expected behavior\r\n\r\nThe QuarkusRestClientBuilder shall not be different in behavior than Native Java client (Java interface).\r\n\r\n### Actual behavior\r\n\r\nRandom error such as:\r\n\r\n```\r\n     2024-06-07 11:14:18,083 ERROR [org.exa.Main] (main) ERROR: org.jboss.resteasy.reactive.ClientWebApplicationException: Received: 'Not Found, status code 404' when invoking: Rest Client method: 'org.example.client.ApiClient#inputStream'\r\n        at org.jboss.resteasy.reactive.client.impl.RestClientRequestContext.unwrapException(RestClientRequestContext.java:195)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.handleException(AbstractResteasyReactiveContext.java:329)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:175)\r\n        at io.smallrye.context.impl.wrappers.SlowContextualRunnable.run(SlowContextualRunnable.java:19)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:38)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:35)\r\n        at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:279)\r\n        at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:261)\r\n        at io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:59)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1583)\r\n     Caused by: jakarta.ws.rs.WebApplicationException: Not Found, status code 404\r\n        at io.quarkus.rest.client.reactive.runtime.DefaultMicroprofileRestClientExceptionMapper.toThrowable(DefaultMicroprofileRestClientExceptionMapper.java:19)\r\n        at io.quarkus.rest.client.reactive.runtime.MicroProfileRestClientResponseFilter.filter(MicroProfileRestClientResponseFilter.java:52)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:21)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:10)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.invokeHandler(AbstractResteasyReactiveContext.java:231)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n        ... 14 more\r\n```\r\n\r\n### How to Reproduce?\r\n\r\nThe reproducer is here: https://github.com/fredericBregier/quarkus-build-native-client-test/tree/main\r\n\r\n- Using ./mvnw clean package\r\n  - All tests are OK, whatever clients\r\n- Launching the server using `java -jar server/target/quarkus-app/quarkus-run.jar`\r\n  - Launching manually tests on client-test with 2 changes:\r\n    - Removing dependency for server\r\n    - Setting port to 8080 in application.yml in src/test/resources\r\n    - All tests are OK, whatever clients\r\n  - Launching client Main with different scenarios\r\n    - `java -jar client-test/target/quarkus-app/quarkus-run.jar ARG` with ARG being\r\n      - APIGET, APIPOST, APISTREAM : for native client using java interface\r\n      - GET, POST, STREAM : for Quarkus bulld client and closing client\r\n      - NOCLOSEGET, NOCLOSEPOST, NOCLOSESTREAM : for Quarkus bulld client and not closing client (leaving default implementation handling closing client)\r\n    - Java Interface is relatively stable: but sometimes failed\r\n    - Quarkus build client, whatever closing or not closing, failed randomly with the following error\r\n\r\n\r\n```\r\n     2024-06-07 11:14:18,083 ERROR [org.exa.Main] (main) ERROR: org.jboss.resteasy.reactive.ClientWebApplicationException: Received: 'Not Found, status code 404' when invoking: Rest Client method: 'org.example.client.ApiClient#inputStream'\r\n        at org.jboss.resteasy.reactive.client.impl.RestClientRequestContext.unwrapException(RestClientRequestContext.java:195)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.handleException(AbstractResteasyReactiveContext.java:329)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:175)\r\n        at io.smallrye.context.impl.wrappers.SlowContextualRunnable.run(SlowContextualRunnable.java:19)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:38)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:35)\r\n        at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:279)\r\n        at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:261)\r\n        at io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:59)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1583)\r\n     Caused by: jakarta.ws.rs.WebApplicationException: Not Found, status code 404\r\n        at io.quarkus.rest.client.reactive.runtime.DefaultMicroprofileRestClientExceptionMapper.toThrowable(DefaultMicroprofileRestClientExceptionMapper.java:19)\r\n        at io.quarkus.rest.client.reactive.runtime.MicroProfileRestClientResponseFilter.filter(MicroProfileRestClientResponseFilter.java:52)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:21)\r\n        at org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:10)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.invokeHandler(AbstractResteasyReactiveContext.java:231)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n        ... 14 more\r\n```\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\nLinux frederic-Creator-M16-B13VE 6.8.0-35-generic #35-Ubuntu SMP PREEMPT_DYNAMIC Mon May 20 15:51:52 UTC 2024 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n### Output of `java -version`\r\n\r\nopenjdk version \"21.0.3\" 2024-04-16 OpenJDK Runtime Environment (build 21.0.3+9-Ubuntu-1ubuntu1) OpenJDK 64-Bit Server VM (build 21.0.3+9-Ubuntu-1ubuntu1, mixed mode, sharing)\r\n\r\n### Quarkus version or git rev\r\n\r\n3.11.0\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nApache Maven 3.9.6 (bc0240f3c744dd6b6ec2920b3cd08dcc295161ae) Maven home: /home/frederic/.m2/wrapper/dists/apache-maven-3.9.6-bin/3311e1d4/apache-maven-3.9.6 Java version: 21.0.3, vendor: Ubuntu, runtime: /usr/lib/jvm/java-21-openjdk-amd64 Default locale: fr_FR, platform encoding: UTF-8 OS name: \"linux\", version: \"6.8.0-35-generic\", arch: \"amd64\", family: \"unix\"\r\n\r\n### Additional information\r\n\r\nExample of random:\r\n- Execution almost OK but finally failed:\r\n\r\n```\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,< / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2024-06-07 12:49:21,163 INFO  [io.quarkus] (main) client-test 1.0-SNAPSHOT on JVM (powered by Quarkus 3.11.0) started in 1.100s. Listening on: http://0.0.0.0:8080\r\n2024-06-07 12:49:21,178 INFO  [io.quarkus] (main) Profile prod activated. \r\n2024-06-07 12:49:21,178 INFO  [io.quarkus] (main) Installed features: [cdi, config-yaml, rest, rest-client, rest-client-jackson, rest-jackson, smallrye-context-propagation, vertx]\r\n2024-06-07 12:49:21,263 INFO  [org.exa.Main] (main) Using HTTP Server at: http://localhost:8080\r\n2024-06-07 12:49:21,277 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:49:21,279 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:21,998 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,007 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,038 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,039 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,070 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,071 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,094 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,094 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,116 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,117 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,158 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,159 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,244 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,245 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,309 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,310 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,369 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,371 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,427 INFO  [org.exa.Main] (main) Result INPUTSTREAM Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,429 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:49:22,429 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:49:22,433 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,497 INFO  [org.exa.Main] (main) Result INPUTSTREAM CLOSED Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,499 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:49:22,499 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:49:22,503 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,558 INFO  [org.exa.Main] (main) Result INPUTSTREAM CLOSED Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:49:22,558 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:49:22,559 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:49:22,561 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:49:22,644 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:49:22,646 ERROR [org.exa.Main] (main) ERROR: org.jboss.resteasy.reactive.ClientWebApplicationException: Received: 'Not Found, status code 404' when invoking: Rest Client method: 'org.example.clientnoclose.ApiClient#inputStream'\r\n\tat org.jboss.resteasy.reactive.client.impl.RestClientRequestContext.unwrapException(RestClientRequestContext.java:195)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.handleException(AbstractResteasyReactiveContext.java:329)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:175)\r\n\tat io.smallrye.context.impl.wrappers.SlowContextualRunnable.run(SlowContextualRunnable.java:19)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:38)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:35)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:279)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:261)\r\n\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:59)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: jakarta.ws.rs.WebApplicationException: Not Found, status code 404\r\n\tat io.quarkus.rest.client.reactive.runtime.DefaultMicroprofileRestClientExceptionMapper.toThrowable(DefaultMicroprofileRestClientExceptionMapper.java:19)\r\n\tat io.quarkus.rest.client.reactive.runtime.MicroProfileRestClientResponseFilter.filter(MicroProfileRestClientResponseFilter.java:52)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:21)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:10)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.invokeHandler(AbstractResteasyReactiveContext.java:231)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n\t... 14 more\r\n\r\n```\r\n\r\n- Execution failed early:\r\n\r\n```\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,< / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2024-06-07 12:52:51,663 INFO  [io.quarkus] (main) client-test 1.0-SNAPSHOT on JVM (powered by Quarkus 3.11.0) started in 0.914s. Listening on: http://0.0.0.0:8080\r\n2024-06-07 12:52:51,689 INFO  [io.quarkus] (main) Profile prod activated. \r\n2024-06-07 12:52:51,690 INFO  [io.quarkus] (main) Installed features: [cdi, config-yaml, rest, rest-client, rest-client-jackson, rest-jackson, smallrye-context-propagation, vertx]\r\n2024-06-07 12:52:51,775 INFO  [org.exa.Main] (main) Using HTTP Server at: http://localhost:8080\r\n2024-06-07 12:52:51,782 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:52:51,784 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:52:52,012 ERROR [org.exa.Main] (main) ERROR: org.jboss.resteasy.reactive.ClientWebApplicationException: Received: 'Not Found, status code 404' when invoking: Rest Client method: 'org.example.clientnoclose.ApiClient#inputStream'\r\n\tat org.jboss.resteasy.reactive.client.impl.RestClientRequestContext.unwrapException(RestClientRequestContext.java:195)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.handleException(AbstractResteasyReactiveContext.java:329)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:175)\r\n\tat io.smallrye.context.impl.wrappers.SlowContextualRunnable.run(SlowContextualRunnable.java:19)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:38)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:35)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:279)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:261)\r\n\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:59)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: jakarta.ws.rs.WebApplicationException: Not Found, status code 404\r\n\tat io.quarkus.rest.client.reactive.runtime.DefaultMicroprofileRestClientExceptionMapper.toThrowable(DefaultMicroprofileRestClientExceptionMapper.java:19)\r\n\tat io.quarkus.rest.client.reactive.runtime.MicroProfileRestClientResponseFilter.filter(MicroProfileRestClientResponseFilter.java:52)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:21)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:10)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.invokeHandler(AbstractResteasyReactiveContext.java:231)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n\t... 14 more\r\n\r\n2024-06-07 12:52:52,015 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:52:52,016 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:52:52,019 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:52:52,373 INFO  [org.exa.Main] (main) Result INPUTSTREAM CLOSED Client: UploadResponse[name=test, size=120000]\r\n2024-06-07 12:52:52,382 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:52:52,383 INFO  [org.exa.cli.ClientFactory] (main) URI: http://localhost:8080\r\n2024-06-07 12:52:52,384 INFO  [org.exa.cli.Client] (main) Send InputStream test\r\n2024-06-07 12:52:52,398 INFO  [org.exa.cli.Client] (main) PSEUDO CLOSING\r\n2024-06-07 12:52:52,399 ERROR [org.exa.Main] (main) ERROR: org.jboss.resteasy.reactive.ClientWebApplicationException: Received: 'Not Found, status code 404' when invoking: Rest Client method: 'org.example.clientnoclose.ApiClient#inputStream'\r\n\tat org.jboss.resteasy.reactive.client.impl.RestClientRequestContext.unwrapException(RestClientRequestContext.java:195)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.handleException(AbstractResteasyReactiveContext.java:329)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:175)\r\n\tat io.smallrye.context.impl.wrappers.SlowContextualRunnable.run(SlowContextualRunnable.java:19)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:38)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientSwitchToRequestContextRestHandler$1$1.handle(ClientSwitchToRequestContextRestHandler.java:35)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:279)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:261)\r\n\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:59)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: jakarta.ws.rs.WebApplicationException: Not Found, status code 404\r\n\tat io.quarkus.rest.client.reactive.runtime.DefaultMicroprofileRestClientExceptionMapper.toThrowable(DefaultMicroprofileRestClientExceptionMapper.java:19)\r\n\tat io.quarkus.rest.client.reactive.runtime.MicroProfileRestClientResponseFilter.filter(MicroProfileRestClientResponseFilter.java:52)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:21)\r\n\tat org.jboss.resteasy.reactive.client.handlers.ClientResponseFilterRestHandler.handle(ClientResponseFilterRestHandler.java:10)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.invokeHandler(AbstractResteasyReactiveContext.java:231)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n\t... 14 more\r\n\r\n```",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/41055/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/41055/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
