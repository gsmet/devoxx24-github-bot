{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39107",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39107/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39107/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39107/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/39107",
  "id": 2163263649,
  "node_id": "I_kwDOCFbutM6A8Mih",
  "number": 39107,
  "title": "Smallrye JWT authentication not working on Azure App Function in Quarkus",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1282139374,
      "node_id": "MDU6TGFiZWwxMjgyMTM5Mzc0",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/security",
      "name": "area/security",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1283619446,
      "node_id": "MDU6TGFiZWwxMjgzNjE5NDQ2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye",
      "name": "area/smallrye",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "milestone": null,
  "comments": 10,
  "created_at": "2024-03-01T12:07:35Z",
  "updated_at": "2024-06-05T13:37:42Z",
  "closed_at": null,
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nI have created a Quarkus Application which has Azure App functions and Controllers as well.\r\nAuthentication using Smallrye jwt is not working in the case of Azure App functions but working for Controllers.\r\n\r\nI have an app function for login which works perfectly fine without the authentication and the Azure App function will return the result if the Roles Allowed annotation is removed.\n\n### Expected behavior\n\nTo return the result according to the correct Role\n\n### Actual behavior\n\nAlways getting 500 internal server error. In the logs seeing Unauthorized error.\n\n### How to Reproduce?\n\nAdd the smallrye to the application.\r\nAdd the Roles allowed annotation to the the function to test.\r\nCall the function with HTTP method\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\nOpenJDK 11\n\n### Quarkus version or git rev\n\nQuarkus - 3.5.1\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nMaven 3.9.5\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39107/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39107/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
