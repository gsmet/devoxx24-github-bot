{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/34228",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/34228/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/34228/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/34228/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/34228",
  "id": 1768209918,
  "node_id": "I_kwDOCFbutM5pZL3-",
  "number": 34228,
  "title": "Update netty-handler to address public known CVEs in versions before 4.1.94",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1320737519,
      "node_id": "MDU6TGFiZWwxMzIwNzM3NTE5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/vertx",
      "name": "area/vertx",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1341157944,
      "node_id": "MDU6TGFiZWwxMzQxMTU3OTQ0",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/triage/upstream",
      "name": "triage/upstream",
      "color": "7db4d8",
      "default": false,
      "description": "Used for issues which are caused by issues in upstream projects/dependency"
    },
    {
      "id": 1699383947,
      "node_id": "MDU6TGFiZWwxNjk5MzgzOTQ3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/dependencies",
      "name": "area/dependencies",
      "color": "0366d6",
      "default": false,
      "description": "Pull requests that update a dependency file"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/259",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/259",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/259/labels",
    "id": 9589555,
    "node_id": "MI_kwDOCFbutM4AklMz",
    "number": 259,
    "title": "3.1.3.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 34,
    "state": "closed",
    "created_at": "2023-06-27T14:46:42Z",
    "updated_at": "2023-11-15T14:18:39Z",
    "due_on": null,
    "closed_at": "2023-06-28T15:34:49Z"
  },
  "comments": 2,
  "created_at": "2023-06-21T18:49:09Z",
  "updated_at": "2023-06-27T14:57:40Z",
  "closed_at": "2023-06-27T09:12:17Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nCVE-2023-34462: https://vuldb.com/?id.232058\r\n\r\nThe SniHandler can allocate up to 16MB of heap for each channel during the TLS handshake. When the handler or the channel does not have an idle timeout, it can be used to make a TCP server using the SniHandler to allocate 16MB of heap.\r\n\r\n#### Details\r\nThe SniHandler class is a handler that waits for the TLS handshake to configure a SslHandler according to the indicated server name by the ClientHello record. For this matter it allocates a ByteBuf using the value defined in the ClientHello record.\r\n\r\nNormally the value of the packet should be smaller than the handshake packet but there are not checks done here and the way the code is written, it is possible to craft a packet that makes the SslClientHelloHandler\r\n\r\n1/ allocate a 16MB ByteBuf\r\n2/ not fail decode method in buffer\r\n3/ get out of the loop without an exception\r\n\r\nThe combination of this without the use of a timeout makes easy to connect to a TCP server and allocate 16MB of heap memory per connection.\r\n\r\n#### Impact\r\nIf the user has no idle timeout handler configured it might be possible for a remote peer to send a client hello packet which lead the server to buffer up to 16MB of data per connection. This could lead to a OutOfMemoryError and so result in a DDOS.\n\n### Expected behavior\n\n_No response_\n\n### Actual behavior\n\n_No response_\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\n_No response_\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n3.1.2.Final\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/34228/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/34228/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
