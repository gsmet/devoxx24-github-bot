{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22408",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22408/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22408/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22408/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/22408",
  "id": 1084995292,
  "node_id": "I_kwDOCFbutM5Aq7bc",
  "number": 22408,
  "title": "RESTEasy Reactive: NPE due to some exceptions",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2552031458,
      "node_id": "MDU6TGFiZWwyNTUyMDMxNDU4",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/rest",
      "name": "area/rest",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/170",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/170",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/170/labels",
    "id": 7576680,
    "node_id": "MI_kwDOCFbutM4Ac5xo",
    "number": 170,
    "title": "2.6.3.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 54,
    "state": "closed",
    "created_at": "2022-01-15T21:47:17Z",
    "updated_at": "2022-10-31T15:34:22Z",
    "due_on": null,
    "closed_at": "2022-01-20T14:36:42Z"
  },
  "comments": 24,
  "created_at": "2021-12-20T16:42:47Z",
  "updated_at": "2022-01-24T11:24:40Z",
  "closed_at": "2022-01-24T11:24:33Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nRR is generating a `javax.ws.rs.NotAllowedException: HTTP 405 Method Not Allowed` exception, and for some reason I'm getting an exception mapper of type `rest.Application$GeneratedExceptionHandlerFor$RuntimeException$OfMethod$mapIt_Subclass@5fa4a2d5`, which returns a `null` `Response`, which we then set as `context.result`.\r\n\r\nThen we move on to the exception handler chain:\r\n\r\n```\r\n[org.jboss.resteasy.reactive.server.handlers.ExceptionHandler@246aa690, \r\norg.jboss.resteasy.reactive.server.handlers.ResourceResponseFilterHandler@2072b0b7, \r\norg.jboss.resteasy.reactive.server.handlers.ResourceResponseFilterHandler@5da63c4b, \r\norg.jboss.resteasy.reactive.server.handlers.ResponseHandler@27ee9f20, \r\norg.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler@5641e36b]\r\n```\r\n\r\nAnd I'm getting the resource response filters which look at the `Response`, which is `null` and it generates an NPE:\r\n\r\n```\r\nThread [vert.x-eventloop-thread-31] (Suspended (exception NullPointerException))\t\r\n\tContainerResponseContextImpl.response() line: 37\t\r\n\tContainerResponseContextImpl.getEntity() line: 142\t\r\n\tTemplateResponseFilter.filter(ResteasyReactiveContainerRequestContext, ContainerResponseContext) line: 22\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass(TemplateResponseFilter$GeneratedServerResponseFilter$filter).filter(ResteasyReactiveContainerRequestContext, ContainerResponseContext) line: not available\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass.filter$$superforward1(ResteasyReactiveContainerRequestContext, ContainerResponseContext) line: not available\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass$$function$$6.apply(Object) line: not available\t\r\n\tAroundInvokeInvocationContext.proceed() line: 54\t\r\n\tInvocationInterceptor.proceed(Invocation$Builder, InvocationContext, ManagedContext, InvocationTree) line: 62\t\r\n\tInvocationInterceptor.monitor(InvocationContext) line: 49\t\r\n\tInvocationInterceptor_Bean.intercept(InterceptionType, Object, InvocationContext) line: not available\t\r\n\tInterceptorInvocation.invoke(InvocationContext) line: 41\t\r\n\tAroundInvokeInvocationContext.perform(Object, Method, Function<InvocationContext,Object>, Object[], List<InterceptorInvocation>, Set<Annotation>) line: 41\t\r\n\tInvocationContexts.performAroundInvoke(Object, Method, Function<InvocationContext,Object>, Object[], List<InterceptorInvocation>, Set<Annotation>) line: 32\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass.filter(ResteasyReactiveContainerRequestContext, ContainerResponseContext) line: not available\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass(ResteasyReactiveContainerResponseFilter).filter(ContainerRequestContext, ContainerResponseContext) line: 10\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass.filter$$superforward1(ContainerRequestContext, ContainerResponseContext) line: not available\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass$$function$$5.apply(Object) line: not available\t\r\n\tAroundInvokeInvocationContext.proceed() line: 54\t\r\n\tInvocationInterceptor.proceed(Invocation$Builder, InvocationContext, ManagedContext, InvocationTree) line: 62\t\r\n\tInvocationInterceptor.monitor(InvocationContext) line: 49\t\r\n\tInvocationInterceptor_Bean.intercept(InterceptionType, Object, InvocationContext) line: not available\t\r\n\tInterceptorInvocation.invoke(InvocationContext) line: 41\t\r\n\tAroundInvokeInvocationContext.perform(Object, Method, Function<InvocationContext,Object>, Object[], List<InterceptorInvocation>, Set<Annotation>) line: 41\t\r\n\tInvocationContexts.performAroundInvoke(Object, Method, Function<InvocationContext,Object>, Object[], List<InterceptorInvocation>, Set<Annotation>) line: 32\t\r\n\tTemplateResponseFilter$GeneratedServerResponseFilter$filter_Subclass.filter(ContainerRequestContext, ContainerResponseContext) line: not available\t\r\n\tResourceResponseFilterHandler.handle(ResteasyReactiveRequestContext) line: 24\t\r\n\tResourceResponseFilterHandler.handle(AbstractResteasyReactiveContext) line: 9\t\r\n\tQuarkusResteasyReactiveRequestContext(AbstractResteasyReactiveContext<T,H>).run() line: 141\t\r\n\tRestInitialHandler.beginProcessing(Object) line: 49\t\r\n\tResteasyReactiveVertxHandler.handle(RoutingContext) line: 17\t\r\n\tResteasyReactiveVertxHandler.handle(Object) line: 7\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 163\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tStaticResourcesRecorder$2.handle(RoutingContext) line: 67\t\r\n\tStaticResourcesRecorder$2.handle(Object) line: 55\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 126\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tStaticHandlerImpl.handle(RoutingContext) line: 116\t\r\n\tStaticHandlerImpl.handle(Object) line: 53\t\r\n\tStaticResourcesRecorder$1.handle(RoutingContext) line: 42\t\r\n\tStaticResourcesRecorder$1.handle(Object) line: 38\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 126\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tStaticHandlerImpl.handle(RoutingContext) line: 116\t\r\n\tStaticHandlerImpl.handle(Object) line: 53\t\r\n\tStaticResourcesRecorder$1.handle(RoutingContext) line: 42\t\r\n\tStaticResourcesRecorder$1.handle(Object) line: 38\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 163\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tVertxHttpRecorder$5.handle(RoutingContext) line: 362\t\r\n\tVertxHttpRecorder$5.handle(Object) line: 340\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 163\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tAuthenticationFailedExceptionMapper.myFilter(RoutingContext) line: 60\t\r\n\tAuthenticationFailedExceptionMapper_RouteHandler_myFilter_d2ab735b63bd0e474c8ab4f3c0c3587458c080cf.invoke(RoutingContext) line: not available\t\r\n\tAuthenticationFailedExceptionMapper_RouteHandler_myFilter_d2ab735b63bd0e474c8ab4f3c0c3587458c080cf(RouteHandler).handle(RoutingContext) line: 97\t\r\n\tAuthenticationFailedExceptionMapper_RouteHandler_myFilter_d2ab735b63bd0e474c8ab4f3c0c3587458c080cf(RouteHandler).handle(Object) line: 22\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 163\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tHttpAuthorizer_Subclass(HttpAuthorizer).doPermissionCheck(RoutingContext, Uni<SecurityIdentity>, int, SecurityIdentity, List<HttpSecurityPolicy>) line: 121\t\r\n\tHttpAuthorizer_Subclass(HttpAuthorizer).checkPermission(RoutingContext) line: 104\t\r\n\tHttpAuthorizer_Subclass.checkPermission$$superforward1(RoutingContext) line: not available\t\r\n\tHttpAuthorizer_Subclass$$function$$1.apply(Object) line: not available\t\r\n\tAroundInvokeInvocationContext.proceed() line: 54\t\r\n\tInvocationInterceptor.proceed(Invocation$Builder, InvocationContext, ManagedContext, InvocationTree) line: 62\t\r\n\tInvocationInterceptor.monitor(InvocationContext) line: 51\t\r\n\tInvocationInterceptor_Bean.intercept(InterceptionType, Object, InvocationContext) line: not available\t\r\n\tInterceptorInvocation.invoke(InvocationContext) line: 41\t\r\n\tAroundInvokeInvocationContext.perform(Object, Method, Function<InvocationContext,Object>, Object[], List<InterceptorInvocation>, Set<Annotation>) line: 41\t\r\n\tInvocationContexts.performAroundInvoke(Object, Method, Function<InvocationContext,Object>, Object[], List<InterceptorInvocation>, Set<Annotation>) line: 32\t\r\n\tHttpAuthorizer_Subclass.checkPermission(RoutingContext) line: not available\t\r\n\tHttpSecurityRecorder$3.handle(RoutingContext) line: 227\t\r\n\tHttpSecurityRecorder$3.handle(Object) line: 219\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 163\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tHttpSecurityRecorder$2.handle(RoutingContext) line: 200\t\r\n\tHttpSecurityRecorder$2.handle(Object) line: 60\t\r\n\tRouteState.handleContext(RoutingContextImplBase) line: 1193\t\r\n\tRoutingContextImpl(RoutingContextImplBase).iterateNext() line: 163\t\r\n\tRoutingContextImpl.next() line: 141\t\r\n\tVertxHttpHotReplacementSetup$5.handle(AsyncResult<Boolean>) line: 196\t\r\n\tVertxHttpHotReplacementSetup$5.handle(Object) line: 185\t\r\n\tFutureImpl$3.onSuccess(T) line: 141\t\r\n\tPromiseImpl<T>(FutureBase<T>).lambda$emitSuccess$0(Listener, Object) line: 54\t\r\n\t1100382954.run() line: not available\t\r\n\tAbstractEventExecutor.safeExecute(Runnable) line: 164\t\r\n\tNioEventLoop(SingleThreadEventExecutor).runAllTasks(long) line: 469\t\r\n\tNioEventLoop.run() line: 503\t\r\n\tSingleThreadEventExecutor$4.run() line: 986\t\r\n\tThreadExecutorMap$2.run() line: 74\t\r\n\tFastThreadLocalRunnable.run() line: 30\t\r\n\tVertxThread(Thread).run() line: 829\t\r\n\r\n```\r\n\r\n### Expected behavior\r\n\r\n_No response_\r\n\r\n### Actual behavior\r\n\r\n_No response_\r\n\r\n### How to Reproduce?\r\n\r\n_No response_\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\n_No response_\r\n\r\n### Output of `java -version`\r\n\r\n_No response_\r\n\r\n### GraalVM version (if different from Java)\r\n\r\n_No response_\r\n\r\n### Quarkus version or git rev\r\n\r\n_No response_\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\n_No response_\r\n\r\n### Additional information\r\n\r\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22408/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22408/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
