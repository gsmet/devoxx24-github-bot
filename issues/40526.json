{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/40526",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40526/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40526/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40526/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/40526",
  "id": 2286457086,
  "node_id": "I_kwDOCFbutM6ISJD-",
  "number": 40526,
  "title": "Dev Services for MySQL doesn't work in FIPS-enabled environment even though it could",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1425555736,
      "node_id": "MDU6TGFiZWwxNDI1NTU1NzM2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/hibernate-orm",
      "name": "area/hibernate-orm",
      "color": "0366d6",
      "default": false,
      "description": "Hibernate ORM"
    },
    {
      "id": 2955097667,
      "node_id": "MDU6TGFiZWwyOTU1MDk3NjY3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devservices",
      "name": "area/devservices",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 3866841773,
      "node_id": "LA_kwDOCFbutM7me1Kt",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/securepipeline",
      "name": "area/securepipeline",
      "color": "0366d6",
      "default": false,
      "description": "issues related to ensure Quarkus can be used in a secure pipeline setups like FIPS or similar"
    }
  ],
  "state": "open",
  "locked": false,
  "milestone": null,
  "comments": 2,
  "created_at": "2024-05-08T20:58:55Z",
  "updated_at": "2024-05-13T12:51:22Z",
  "closed_at": null,
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nI cannot leverage Dev Services for MySQL when I develop my Quarkus application in FIPS-enabled environment. Quarkus JDBC MySQL extension works in FIPS-enabled environment (team I belong to run several tests that use MySQL in FIPS-enabled environment), however the dev service rely on TestContainers version that doesn't work in FIPS-enabled environment by default . I think it's similar thing that happened to Quarkus in past (see https://github.com/quarkusio/quarkus/issues/32910). The default authentication plugin used unsupported cipher. See how Camel tests worked around that https://github.com/apache/camel-quarkus/pull/6063 https://github.com/apache/camel-quarkus/issues/6061 https://github.com/apache/camel-quarkus/issues/6062.\r\n\r\n### Expected behavior\r\n\r\nMy team also uses TestContainers and experienced the same issue. The easiest workaround was to use log message as a waiting strategy (see here for a working example https://github.com/quarkus-qe/quarkus-test-suite/pull/1782/files#diff-162fe6553bac44cb3d154600cad3a11e4102ee420ff0460e1deb1659e88dbbcc ). However there are other workarounds like these that Camel Quarkus tests did. I also suppose there is a proper solution as well, but I will leave that to experts.\r\n\r\nPersonally I think it would be nice to be able to develop with the same environment setup as the application is going to run and Quarkus could make it easier with the Dev Service.\r\n\r\n### Actual behavior\r\n\r\nWaiting for database connection timeouts, Quarkus cannot detect that the database is ready even though it is:\r\n\r\n```\r\nDatabase for default datasource (mysql) starting: 2024-05-08 20:42:35,177 INFO  [tc.doc.io/.0] (build-25) Waiting for database connection to become available at jdbc:mysql://localhost:32798/quarkus using query 'SELECT 1'\r\n\r\n\r\n2024-05-08T20:46:50.515029Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.37'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server - GPL.\r\n\r\n\r\n2024-05-08 20:48:36,727 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2024-05-08 20:48:37,255 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor#launchDatabases threw an exception: java.lang.RuntimeException: org.testcontainers.containers.ContainerLaunchException: Container startup failed for image docker.io/mysql:8.0\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:363)\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:142)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:849)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:256)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1521)\r\n\tat java.base/java.lang.Thread.run(Thread.java:840)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:483)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed for image docker.io/mysql:8.0\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:359)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:330)\r\n\tat io.quarkus.devservices.mysql.deployment.MySQLDevServicesProcessor$1.startDatabase(MySQLDevServicesProcessor.java:77)\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:289)\r\n\t... 13 more\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:344)\r\n\t... 16 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:563)\r\n\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:354)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 17 more\r\nCaused by: java.lang.IllegalStateException: Container is started, but cannot be accessed by (JDBC URL: jdbc:mysql://localhost:32800/quarkus), please check container logs\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.waitUntilContainerStarted(JdbcDatabaseContainer.java:176)\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:500)\r\n\t... 19 more\r\nCaused by: java.sql.SQLException: Could not create new connection\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:262)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:218)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.waitUntilContainerStarted(JdbcDatabaseContainer.java:158)\r\n\t... 20 more\r\nCaused by: java.sql.SQLException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:253)\r\n\t... 22 more\r\nCaused by: com.mysql.cj.exceptions.RSAException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\r\n\tat com.mysql.cj.protocol.ExportControlled.encryptWithRSAPublicKey(ExportControlled.java:275)\r\n\tat com.mysql.cj.protocol.a.authentication.Sha256PasswordPlugin.encryptPassword(Sha256PasswordPlugin.java:188)\r\n\tat com.mysql.cj.protocol.a.authentication.Sha256PasswordPlugin.encryptPassword(Sha256PasswordPlugin.java:178)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.encryptPassword(CachingSha2PasswordPlugin.java:163)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:143)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:49)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:446)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:215)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1428)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:133)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)\r\n\t... 26 more\r\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:571)\r\n\tat com.mysql.cj.protocol.ExportControlled.encryptWithRSAPublicKey(ExportControlled.java:271)\r\n\t... 37 more\r\nCaused by: javax.crypto.NoSuchPaddingException: Unsupported padding OAEPWithSHA-1AndMGF1Padding\r\n\tat jdk.crypto.cryptoki/sun.security.pkcs11.P11RSACipher.engineSetPadding(P11RSACipher.java:137)\r\n\tat java.base/javax.crypto.Cipher$Transform.setModePadding(Cipher.java:388)\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:564)\r\n\t... 38 more\r\n\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:337)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:254)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:112)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:433)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:55)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcaunchDatabases threw an exception: java.lang.RuntimeException: org.testcontainers.containers.ContainerLaunchException: Container startup failed for image docker.io/mysql:8.0\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:363)\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:142)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:849)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:256)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1521)\r\n\tat java.base/java.lang.Thread.run(Thread.java:840)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:483)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed for image docker.io/mysql:8.0\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:359)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:330)\r\n\tat io.quarkus.devservices.mysql.deployment.MySQLDevServicesProcessor$1.startDatabase(MySQLDevServicesProcessor.java:77)\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:289)\r\n\t... 13 more\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:344)\r\n\t... 16 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:563)\r\n\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:354)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 17 more\r\nCaused by: java.lang.IllegalStateException: Container is started, but cannot be accessed by (JDBC URL: jdbc:mysql://localhost:32800/quarkus), please check container logs\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.waitUntilContainerStarted(JdbcDatabaseContainer.java:176)\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:500)\r\n\t... 19 more\r\nCaused by: java.sql.SQLException: Could not create new connection\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:262)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:218)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.waitUntilContainerStarted(JdbcDatabaseContainer.java:158)\r\n\t... 20 more\r\nCaused by: java.sql.SQLException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:253)\r\n\t... 22 more\r\nCaused by: com.mysql.cj.exceptions.RSAException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\r\n\tat com.mysql.cj.protocol.ExportControlled.encryptWithRSAPublicKey(ExportControlled.java:275)\r\n\tat com.mysql.cj.protocol.a.authentication.Sha256PasswordPlugin.encryptPassword(Sha256PasswordPlugin.java:188)\r\n\tat com.mysql.cj.protocol.a.authentication.Sha256PasswordPlugin.encryptPassword(Sha256PasswordPlugin.java:178)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.encryptPassword(CachingSha2PasswordPlugin.java:163)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:143)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:49)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:446)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:215)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1428)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:133)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)\r\n\t... 26 more\r\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:571)\r\n\tat com.mysql.cj.protocol.ExportControlled.encryptWithRSAPublicKey(ExportControlled.java:271)\r\n\t... 37 more\r\nCaused by: javax.crypto.NoSuchPaddingException: Unsupported padding OAEPWithSHA-1AndMGF1Padding\r\n\tat jdk.crypto.cryptoki/sun.security.pkcs11.P11RSACipher.engineSetPadding(P11RSACipher.java:137)\r\n\tat java.base/javax.crypto.Cipher$Transform.setModePadding(Cipher.java:388)\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:564)\r\n\t... 38 more\r\n\r\n\tat io.quarkus.builder.Execution.run(Execution.java:123)\r\n\tat io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:160)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:333)\r\n\t... 9 more\r\nCaused by: java.lang.RuntimeException: org.testcontainers.containers.ContainerLaunchException: Container startup failed for image docker.io/mysql:8.0\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:363)\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:142)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:849)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:256)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Threrun(EnhancedQueueExecutor.java:1521)\r\n\tat java.base/java.lang.Thread.run(Thread.java:840)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:483)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed for image docker.io/mysql:8.0\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:359)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:330)\r\n\tat io.quarkus.devservices.mysql.deployment.MySQLDevServicesProcessor$1.startDatabase(MySQLDevServicesProcessor.java:77)\r\n\tat io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:289)\r\n\t... 13 more\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:344)\r\n\t... 16 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:563)\r\n\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:354)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 17 more\r\nCaused by: java.lang.IllegalStateException: Container is started, but cannot be accessed by (JDBC URL: jdbc:mysql://localhost:32800/quarkus), please check container logs\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.waitUntilContainerStarted(JdbcDatabaseContainer.java:176)\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:500)\r\n\t... 19 more\r\nCaused by: java.sql.SQLException: Could not create new connection\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:262)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:218)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.waitUntilContainerStarted(JdbcDatabaseContainer.java:158)\r\n\t... 20 more\r\nCaused by: java.sql.SQLException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)\r\n\tat org.testcontainers.containers.JdbcDatabaseContainer.createConnection(JdbcDatabaseContainer.java:253)\r\n\t... 22 more\r\nCaused by: com.mysql.cj.exceptions.RSAException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\r\n\tat com.mysql.cj.protocol.ExportControlled.encryptWithRSAPublicKey(ExportControlled.java:275)\r\n\tat com.mysql.cj.protocol.a.authentication.Sha256PasswordPlugin.encryptPassword(Sha256PasswordPlugin.java:188)\r\n\tat com.mysql.cj.protocol.a.authentication.Sha256PasswordPlugin.encryptPassword(Sha256PasswordPlugin.java:178)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.encryptPassword(CachingSha2PasswordPlugin.java:163)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:143)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:49)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:446)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:215)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1428)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:133)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)\r\n\t... 26 more\r\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/ECB/OAEPWithSHA-1AndMGF1Padding\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:571)\r\n\tat com.mysql.cj.protocol.ExportControlled.encryptWithRSAPublicKey(ExportControlled.java:271)\r\n\t... 37 more\r\nCaused by: javax.crypto.NoSuchPaddingException: Unsupported padding OAEPWithSHA-1AndMGF1Padding\r\n\tat jdk.crypto.cryptoki/sun.security.pkcs11.P11RSACipher.engineSetPadding(P11RSACipher.java:137)\r\n\tat java.base/javax.crypto.Cipher$Transform.setModePadding(Cipher.java:388)\r\n\tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:564)\r\n\t... 38 more\r\n\r\n\r\n```\r\n\r\n### How to Reproduce?\r\n\r\nSteps to reproduce (you need FIPS-enabled environment):\r\n\r\n```\r\nmvn io.quarkus.platform:quarkus-maven-plugin:3.10.0:create \\\r\n    -DprojectGroupId=org.acme \\\r\n    -DprojectArtifactId=getting-started \\\r\n    -Dextensions='rest,hibernate-orm,jdbc-mysql'\r\n\r\ncd getting-started\r\n\r\nmvn quarkus:dev\r\n```\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\nFedora 38\r\n\r\n### Output of `java -version`\r\n\r\nRed_Hat-17.0.10.0.7-1.el7openjdkportable\r\n\r\n### Quarkus version or git rev\r\n\r\n3.10, 3.8.4\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nApache Maven 3.9.4\r\n\r\n### Additional information\r\n\r\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/40526/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40526/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
