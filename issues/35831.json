{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/35831",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35831/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35831/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35831/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/35831",
  "id": 1888730850,
  "node_id": "I_kwDOCFbutM5wk77i",
  "number": 35831,
  "title": "Quarkus aggregate configurations from different executions that share the same goal",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1282136257,
      "node_id": "MDU6TGFiZWwxMjgyMTM2MjU3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/maven",
      "name": "area/maven",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/284",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/284",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/284/labels",
    "id": 10103752,
    "node_id": "MI_kwDOCFbutM4AmivI",
    "number": 284,
    "title": "3.2.8.Final",
    "description": "",
    "creator": {
      "login": "aloubyansky",
      "id": 323379,
      "node_id": "MDQ6VXNlcjMyMzM3OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/323379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aloubyansky",
      "html_url": "https://github.com/aloubyansky",
      "followers_url": "https://api.github.com/users/aloubyansky/followers",
      "following_url": "https://api.github.com/users/aloubyansky/following{/other_user}",
      "gists_url": "https://api.github.com/users/aloubyansky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aloubyansky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aloubyansky/subscriptions",
      "organizations_url": "https://api.github.com/users/aloubyansky/orgs",
      "repos_url": "https://api.github.com/users/aloubyansky/repos",
      "events_url": "https://api.github.com/users/aloubyansky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aloubyansky/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 129,
    "state": "closed",
    "created_at": "2023-10-25T07:58:05Z",
    "updated_at": "2023-11-15T14:06:19Z",
    "due_on": "2023-11-15T08:00:00Z",
    "closed_at": "2023-11-08T14:04:29Z"
  },
  "comments": 3,
  "created_at": "2023-09-09T12:51:25Z",
  "updated_at": "2023-10-31T13:24:57Z",
  "closed_at": "2023-09-11T15:34:46Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nAfter we get [this issue](https://github.com/highsource/jaxb-tools/issues/362)  raised on jaxb-maven-plugin (former highsource's maven-jaxb2-plugin) and analysis, it seems that quarkus does some strange aggregation over all executions of the plugin that shares the same goal but with different ids.\r\n\r\nThis behaviour shouldn't be active when the executions ids differs (both are defined and not equals).\r\nBy doing it, it's making the plugin receive mixed an incompatible configuration and, even if both executions are run, the second one is just ignored because it asks to do the same as the first one (same mixed configuration).\n\n### Expected behavior\n\nBoth executions are run without sharing their configuration\n\n### Actual behavior\n\nBoth executions are run but with same shared and inconsistent configuration\r\nThis causing generating not all and falsy classes from xsd\n\n### How to Reproduce?\n\nSample project provided [here](https://github.com/highsource/jaxb-tools/files/12557307/quarkus-jaxb.tar.gz)\r\n\r\nhttps://github.com/highsource/jaxb-tools/issues/362#issuecomment-1711291801\r\n\r\nJust run `mvn quarkus:dev`\n\n### Output of `uname -a` or `ver`\n\nLinux Fedora 38\n\n### Output of `java -version`\n\n17\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n3.3.1\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nmvn 3.9\n\n### Additional information\n\nProbable fix would be to change [this function](https://github.com/quarkusio/quarkus/blob/81f56c0d6e6291ecf921f5d826467fece1e24857/devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java#L723-L732) \r\n\r\n```\r\n    private Xpp3Dom getPluginConfig(Plugin plugin, String goal, Map<String, String> params) throws MojoExecutionException { \r\n         Xpp3Dom mergedConfig = null; \r\n         if (!plugin.getExecutions().isEmpty()) { \r\n             for (PluginExecution exec : plugin.getExecutions()) { \r\n                 if (exec.getConfiguration() != null && exec.getGoals().contains(goal)) { \r\n                     mergedConfig = mergedConfig == null ? (Xpp3Dom) exec.getConfiguration() \r\n                             : Xpp3Dom.mergeXpp3Dom(mergedConfig, (Xpp3Dom) exec.getConfiguration(), true); \r\n                 } \r\n             } \r\n         }\r\n```\r\n\r\nI would add and extra condition on ids matching (current id is undefined and merge all configurations of undefined executions or id is defined and merge all configuration with undefined executionId or with same id).",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/35831/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35831/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
