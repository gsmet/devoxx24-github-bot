{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/29234",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29234/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29234/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29234/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/29234",
  "id": 1446903675,
  "node_id": "I_kwDOCFbutM5WPf97",
  "number": 29234,
  "title": "Better gradle composite build support ",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273026591,
      "node_id": "MDU6TGFiZWwxMjczMDI2NTkx",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/gradle",
      "name": "area/gradle",
      "color": "0366d6",
      "default": false,
      "description": "Gradle"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/288",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/288",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/288/labels",
    "id": 10189838,
    "node_id": "MI_kwDOCFbutM4Am3wO",
    "number": 288,
    "title": "3.7.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 432,
    "state": "closed",
    "created_at": "2023-11-15T08:06:53Z",
    "updated_at": "2024-05-17T12:27:49Z",
    "due_on": null,
    "closed_at": "2024-01-17T13:52:08Z"
  },
  "comments": 1,
  "created_at": "2022-11-13T12:24:39Z",
  "updated_at": "2024-01-12T07:26:33Z",
  "closed_at": "2024-01-12T07:26:30Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nWhen using Quarkus on a composite build gradle project I noticed a couple of issues:\r\n1. When including a multi-module gradle project as a composite build the dependency loading doesn't actually work.\r\n2. Hot reloading doesn't work for composite builds (source directory isn't watched).\r\n3. Using a local extension as a composite builds doesn't work\r\n\r\nThe current method of loading an included build in the Quarkus gradle plugin requires the included build to have a flat hierarchy, which prevents including a multi-module build, plus the workspacedirectory is never added to the dependency index.\r\nI modified the Quarkus application gradle plugin and managed to get it working with both composite builds and multi-module projects. I have a branch for this \"fix\", tested on multiple project structures, if someone is willing to take a look and see if I haven't miss anything important. Thanks.\r\n\r\nHere's the PR link:\r\nhttps://github.com/quarkusio/quarkus/pull/29233\n\n### Expected behavior\n\nUsing composite builds in gradle should work regardless of the project structure hierarchy, same for extensions\n\n### Actual behavior\n\nUsing composite builds either doesn't pick up the required dependency, and if it does (when using flat module structure) hot reloading doesn't work for them.\r\nLocal extension local dependencies aren't picked up as deployment dependencies.\n\n### How to Reproduce?\n\nCreate a composite build project with the following structure with a quarkus app depending on another multimodule gradle project\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\nopenjdk 11.0.13 2021-10-19\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n_No response_\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nGradle 7.5.1\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/29234/reactions",
    "total_count": 2,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 1,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29234/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
