{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/31656",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/31656/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/31656/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/31656/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/31656",
  "id": 1613450621,
  "node_id": "I_kwDOCFbutM5gK019",
  "number": 31656,
  "title": "Allow restricting propagation of OpenTelemetry trace headers",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1283619446,
      "node_id": "MDU6TGFiZWwxMjgzNjE5NDQ2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye",
      "name": "area/smallrye",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2236031412,
      "node_id": "MDU6TGFiZWwyMjM2MDMxNDEy",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/tracing",
      "name": "area/tracing",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/255",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/255",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/255/labels",
    "id": 9565017,
    "node_id": "MI_kwDOCFbutM4AkfNZ",
    "number": 255,
    "title": "3.3.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 310,
    "state": "closed",
    "created_at": "2023-06-21T07:35:19Z",
    "updated_at": "2024-05-17T05:53:43Z",
    "due_on": null,
    "closed_at": "2023-08-09T11:23:12Z"
  },
  "comments": 18,
  "created_at": "2023-03-07T13:27:46Z",
  "updated_at": "2023-07-24T14:13:32Z",
  "closed_at": "2023-07-24T14:13:24Z",
  "active_lock_reason": null,
  "body": "### Description\n\nAs described in the w3c [trace-context](https://www.w3.org/TR/trace-context/#information-exposure) and [baggage](https://www.w3.org/TR/baggage/#information-exposure) specifications tracing headers might carry sensitive information. Currently once a [propagator is configured](https://quarkus.io/guides/opentelemetry#propagators) it unconditionally propagates regardless of who the service is talking to. If a service calls out to an untrusted system/third party this would expose the information.\r\n\r\nAs the headers being propagated might come from another applications call, it is very hard to ensure no sensitive data is present in the application actually making the request. The only safe solution is to prevent the information from being propagated to untrusted systems in the first place.\r\n\r\nCurrently there does not seem to be any way to restrict or customize this propagation behavior while using the quarkus-opentelemetry extension ([zulip](https://quarkusio.zulipchat.com/#narrow/stream/187030-users/topic/Controlling.20trace.20context.20propagation.20to.20third.20parties/near/338885117)).\r\n\r\nAs a developer it would be great to be able to whitelist URL patterns (and/or IP ranges) for propagation in the quarkus-opentelemetry configuration. This would allow safe configuration of who the information is transmitted to without much effort. The default would whitelist everything to retain compatibility.\r\n\r\nAnother, less safe, option would be some option to explicitly block propagation for certain URLs or rest clients through configuration/annotation.\n\n### Implementation ideas\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/31656/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/31656/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
