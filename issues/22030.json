{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22030",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22030/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22030/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22030/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/22030",
  "id": 1074437324,
  "node_id": "I_kwDOCFbutM5ACpzM",
  "number": 22030,
  "title": "Link internal OIDC ID token and UserInfo when working with GitHub and other OAuth2 providers",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1479557456,
      "node_id": "MDU6TGFiZWwxNDc5NTU3NDU2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/oidc",
      "name": "area/oidc",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/179",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/179",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/179/labels",
    "id": 7795235,
    "node_id": "MI_kwDOCFbutM4AdvIj",
    "number": 179,
    "title": "2.9.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 151,
    "state": "closed",
    "created_at": "2022-03-23T10:06:12Z",
    "updated_at": "2022-05-12T08:09:58Z",
    "due_on": null,
    "closed_at": "2022-04-27T11:52:54Z"
  },
  "comments": 7,
  "created_at": "2021-12-08T13:54:59Z",
  "updated_at": "2022-03-31T17:31:21Z",
  "closed_at": "2022-03-31T17:31:18Z",
  "active_lock_reason": null,
  "body": "### Description\n\nRight now, when GitHub or other non-OIDC compliant provider is used which returns no ID token, Quarkus OIDC will generate an internal empty ID token and will enforce that UserInfo is fetched.\r\n\r\nDealing with UserInfo will be more optimal if it is cached, ex, by the default UserInfo cache. However, it may be reasonable instead to use this internal `IdToken` to retain UserInfo, something @FroMage is interested in - this `IdToken` is faked so we can put any claims there and then it will keep this UserInfo as a cookie value.\n\n### Implementation ideas\n\nStore `UserInfo` as a complex `userinfo` claim in the internal IdToken.\r\n\r\nWe should probably also encrypt the internal token instead in this case - `UserInfo` may contain more sensitive information",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22030/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22030/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
