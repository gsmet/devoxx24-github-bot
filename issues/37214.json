{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/37214",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37214/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37214/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37214/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/37214",
  "id": 2002028984,
  "node_id": "I_kwDOCFbutM53VIm4",
  "number": 37214,
  "title": "MultipartFormDataOutput should use an ordered map instead of a HashMap",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2552031458,
      "node_id": "MDU6TGFiZWwyNTUyMDMxNDU4",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/rest",
      "name": "area/rest",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/289",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/289",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/289/labels",
    "id": 10198573,
    "node_id": "MI_kwDOCFbutM4Am54t",
    "number": 289,
    "title": "3.5.3",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 11,
    "state": "closed",
    "created_at": "2023-11-16T20:09:21Z",
    "updated_at": "2024-01-14T20:41:13Z",
    "due_on": null,
    "closed_at": "2023-11-21T12:18:32Z"
  },
  "comments": 1,
  "created_at": "2023-11-20T11:52:57Z",
  "updated_at": "2023-11-20T16:47:27Z",
  "closed_at": "2023-11-20T15:06:54Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nSee [RESTEASY-3217](https://issues.redhat.com/browse/RESTEASY-3217): `MultipartFormDataOutput` uses a `HashMap` for the `parts` map, this should use a `LinkedHashMap` to honor the users' input order.\r\n\r\nWith 2.16.x we extended `MultipartFormDataOutput` to use a `LinkedHashMap`, which was possible because the class was not `final` yet. This has in the meantime been changed with #30307, and hence I'd like to ask if it would be possible to use `LinkedHashMap` in the `final` class now, just like Resteasy does it too.\r\n\r\nI haven't found whether the standard requires preserving the order, but it seems there are consumers out there which do (at least that's the case for us).\r\n\r\nChanging the map implementation from `HashMap` to `LinkedHashMap` should have no implications to existing code.\r\n\r\n### Expected behavior\r\n\r\nThe parts in a `multi-part/form-data` response should appear in the response body in the same order as they've been added with `addFormData()` programmatically.\r\n\r\n### Actual behavior\r\n\r\nThe actual order of the parts in a `multi-part/form-data` response appear in an unpredictable order in which `HashMap` decides to order them.\r\n\r\n### How to Reproduce?\r\n\r\n-\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\n_No response_\r\n\r\n### Output of `java -version`\r\n\r\n_No response_\r\n\r\n### Quarkus version or git rev\r\n\r\n3.5.2\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\n_No response_\r\n\r\n### Additional information\r\n\r\nAdded #37215.",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/37214/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37214/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
