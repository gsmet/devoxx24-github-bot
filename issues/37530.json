{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/37530",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37530/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37530/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37530/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/37530",
  "id": 2026191673,
  "node_id": "I_kwDOCFbutM54xTs5",
  "number": 37530,
  "title": "Docs: Spring security guide",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1218486975,
      "node_id": "MDU6TGFiZWwxMjE4NDg2OTc1",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/documentation",
      "name": "area/documentation",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1282139374,
      "node_id": "MDU6TGFiZWwxMjgyMTM5Mzc0",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/security",
      "name": "area/security",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1552233747,
      "node_id": "MDU6TGFiZWwxNTUyMjMzNzQ3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/spring",
      "name": "area/spring",
      "color": "0366d6",
      "default": false,
      "description": "Issues relating to the Spring integration"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/288",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/288",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/288/labels",
    "id": 10189838,
    "node_id": "MI_kwDOCFbutM4Am3wO",
    "number": 288,
    "title": "3.7.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 432,
    "state": "closed",
    "created_at": "2023-11-15T08:06:53Z",
    "updated_at": "2024-05-17T12:27:49Z",
    "due_on": null,
    "closed_at": "2024-01-17T13:52:08Z"
  },
  "comments": 7,
  "created_at": "2023-12-05T13:24:12Z",
  "updated_at": "2023-12-06T14:41:36Z",
  "closed_at": "2023-12-06T14:41:31Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nI went through \"Quarkus Extension for Spring Security API\" [1] guide and found several issue:\r\n\r\n1. \"GreetingController\" sections[2] says, that \"the Quarkus Maven plugin automatically generated a controller with the Spring Web\". Maven command from the first section[3] does not generate the controller, unless `-DnoCode` option is removed. If the option is omitted, the generated code looks a bit differently. Same goes for GreetingControllerTest.\r\n2. We ask user to write tests[4], which never run, since we ask them to check the access manually. We should at least mention, that these tests can be run with `mvn clean test` or by pressing `r` while in the DevMode.\r\n3. Section \"test the changes\" recommends opening the page in browser and logging in with different credentials. In Firefox(at least) I can not log in again, unless I delete the history or run in private tab. We should probably add a note, which mentions that.\r\n4. We should either remove the section about native executable[6] (there is nothing new, compared to the native guide[7]) or add an example on running (and not just generating) the executable.\r\n5. Is section https://quarkus.io/version/main/guides/spring-security#supported-spring-security-functionalities up-to date? Do we still support only two features? Same question goes for Combining expressions[8]\r\n6. The same section doesn't explain the `@Secured` annotation and doesn't explain the differences between it and `@PreAuthorize` annotation. The link to the Spring documentation will be much appreciated here.\r\n7. The same section. I am not a native English speaker, but the word \"functionalities\" seems to be out of place here. I presume, that \"functionality\" (singular) or \"annotations\" would be a better fit.\r\n8. Combining expression sections says, that \"currently parentheses are not supported\", while an example right before it contains `\"hasAnyRole('view1', 'view2') OR isAnonymous() OR hasRole('test')\"`. I suppose, we should say, that \"expressions do not support parentheses for logical operators and are evaluated from left to right\"\r\n9. Currently, conversion table[9] only shows, how to replace `@Secured` annotation from Spring. We should probably reference this guide[10] to help with replacement of `@PreAuthorize` annotation\r\n10. It's probably worth adding a note, that for the `#person.name` format, class Person has to have getName() method and remove \"or field of the parameter\" from the description (fields, even public, can not be used for this check)\r\n11. Example for PersonChecker contains `@Override` annotation on a method, which is not inherited, it can probably be deleted.\r\n\r\n[1] https://quarkus.io/version/main/guides/spring-security\r\n[2] https://quarkus.io/version/main/guides/spring-security#greetingcontroller\r\n[3] https://quarkus.io/version/main/guides/spring-security#creating-the-maven-project\r\n[4] https://quarkus.io/version/main/guides/spring-security#greetingcontrollertest-2\r\n[5] https://quarkus.io/version/main/guides/spring-security#test-the-changes\r\n[6] https://quarkus.io/version/main/guides/spring-security#run-the-application-as-a-native-executable\r\n[7] https://quarkus.io/guides/building-native-image\r\n[8] https://quarkus.io/version/main/guides/spring-security#combining-expressions\r\n[9] https://quarkus.io/version/main/guides/spring-security#conversion-table\r\n[10] https://quarkus.io/guides/security-authorize-web-endpoints-reference\r\n\r\n\n\n### Expected behavior\n\n_No response_\n\n### Actual behavior\n\n_No response_\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\n_No response_\n\n### Quarkus version or git rev\n\n_No response_\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/37530/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37530/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
