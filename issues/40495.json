{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/40495",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40495/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40495/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40495/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/40495",
  "id": 2283196069,
  "node_id": "I_kwDOCFbutM6IFs6l",
  "number": 40495,
  "title": "Quarkus `3.10.0` now requires a GraalVM installation for quarkusDev when `quarkus.native.enabled` is set to true",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1654772125,
      "node_id": "MDU6TGFiZWwxNjU0NzcyMTI1",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/kubernetes",
      "name": "area/kubernetes",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2497075451,
      "node_id": "MDU6TGFiZWwyNDk3MDc1NDUx",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/native-image",
      "name": "area/native-image",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 5085228218,
      "node_id": "LA_kwDOCFbutM8AAAABLxpsug",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/triage/needs-feedback",
      "name": "triage/needs-feedback",
      "color": "FDE078",
      "default": false,
      "description": "We are waiting for feedback."
    }
  ],
  "state": "open",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/327",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/327",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/327/labels",
    "id": 10976485,
    "node_id": "MI_kwDOCFbutM4Ap3zl",
    "number": 327,
    "title": "3.10.1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 1,
    "closed_issues": 57,
    "state": "closed",
    "created_at": "2024-04-26T07:55:58Z",
    "updated_at": "2024-08-08T07:30:57Z",
    "due_on": null,
    "closed_at": "2024-05-15T12:10:23Z"
  },
  "comments": 23,
  "created_at": "2024-05-07T12:44:26Z",
  "updated_at": "2024-08-28T13:24:00Z",
  "closed_at": null,
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nWhen upgrading Quarkus from a previous version to Quarkus `3.10.0`, the Quarkus CLI migrates\r\n`quarkus.package.type=native`\r\nto\r\n```java\r\nquarkus.package.jar.enabled=false\r\nquarkus.native.enabled=true\r\n```\r\n\r\nWith this change, the dev server `./gradleq quarkusDev` can no longer start if any other OpenJDK distribution instead of GraalVM is installed.\r\n\r\nWith previous versions this worked, as for local development for example Eclipse Adoptium is sufficient and building and testing in native mode is only done by the CI pipeline.\r\n\r\n### Expected behavior\r\n\r\nThe local dev server `./gradleq quarkusDev` should work if the following properties are set without GraalVM installed.\r\n```java\r\nquarkus.package.jar.enabled=false\r\nquarkus.native.enabled=true\r\n```\r\n\r\n### Actual behavior\r\n\r\n![image](https://github.com/quarkusio/quarkus/assets/6555967/54427576-254e-47b4-bdf2-56fa7ab73aaa)\r\n\r\n### How to Reproduce?\r\n\r\n_No response_\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\nMicrosoft Windows [Version 10.0.22631.3447]\r\n\r\n### Output of `java -version`\r\n\r\nOpenJDK 64-Bit Server VM Temurin-21.0.3+9 (build 21.0.3+9-LTS, mixed mode, sharing)\r\n\r\n### Quarkus version or git rev\r\n\r\n3.10.0\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nGradle 8.7\r\n\r\n### Additional information\r\n\r\n```groovy\r\nimplementation 'io.quarkus:quarkus-agroal'\r\nimplementation 'io.quarkus:quarkus-arc'\r\nimplementation 'io.quarkus:quarkus-awt'\r\nimplementation 'io.quarkus:quarkus-cache'\r\nimplementation 'io.quarkus:quarkus-config-yaml'\r\nimplementation 'io.quarkus:quarkus-jdbc-oracle'\r\nimplementation 'io.quarkus:quarkus-jdbc-postgresql'\r\nimplementation 'io.quarkus:quarkus-kubernetes'\r\nimplementation 'io.quarkus:quarkus-micrometer'\r\nimplementation 'io.quarkus:quarkus-micrometer-registry-prometheus'\r\nimplementation 'io.quarkus:quarkus-oidc'\r\nimplementation 'io.quarkus:quarkus-rest'\r\nimplementation 'io.quarkus:quarkus-rest-jackson'\r\nimplementation 'io.quarkus:quarkus-scheduler'\r\nimplementation 'io.quarkus:quarkus-smallrye-health'\r\nimplementation 'io.quarkus:quarkus-smallrye-openapi'\r\n```",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/40495/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/40495/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
