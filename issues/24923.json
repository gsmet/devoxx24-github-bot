{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/24923",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24923/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24923/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24923/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/24923",
  "id": 1203622838,
  "node_id": "I_kwDOCFbutM5HvdO2",
  "number": 24923,
  "title": "Perform Elasticsearch schema re-creation or validation when starting in tests/dev mode with Hibernate Search and Elasticsearch dev services",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1273039603,
      "node_id": "MDU6TGFiZWwxMjczMDM5NjAz",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devmode",
      "name": "area/devmode",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1664142960,
      "node_id": "MDU6TGFiZWwxNjY0MTQyOTYw",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/hibernate-search",
      "name": "area/hibernate-search",
      "color": "0366d6",
      "default": false,
      "description": "Hibernate Search / Elasticsearch"
    },
    {
      "id": 2222769329,
      "node_id": "MDU6TGFiZWwyMjIyNzY5MzI5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/elasticsearch",
      "name": "area/elasticsearch",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2955097667,
      "node_id": "MDU6TGFiZWwyOTU1MDk3NjY3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devservices",
      "name": "area/devservices",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/189",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/189",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/189/labels",
    "id": 8065991,
    "node_id": "MI_kwDOCFbutM4AexPH",
    "number": 189,
    "title": "2.11.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 244,
    "state": "closed",
    "created_at": "2022-06-09T10:38:20Z",
    "updated_at": "2023-01-13T10:47:01Z",
    "due_on": null,
    "closed_at": "2022-07-13T14:14:46Z"
  },
  "comments": 3,
  "created_at": "2022-04-13T18:06:31Z",
  "updated_at": "2022-06-23T08:43:01Z",
  "closed_at": "2022-06-23T08:42:56Z",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nIn recent versions of Quarkus, Hibernate ORM schema management defaults to \"drop and create\" when using dev services. \r\nThe goal is to ensure that dev services always start from a clean state.\r\n\r\nAlso in recent versions of Quarkus, Quarkus will perform database schema validation when starting in dev mode by default, regardless of the schema management configuration.\r\n\r\nWe should do the same for Hibernate Search in dev mode.\r\n\r\n### Implementation ideas\r\n\r\nSee `io.quarkus.hibernate.orm.runtime.schema.SchemaManagementIntegrator`, `io.quarkus.hibernate.orm.runtime.HibernateOrmRuntimeConfigPersistenceUnit.HibernateOrmConfigPersistenceUnitDatabaseGeneration#generation`.\r\n\r\nSee `io.quarkus.hibernate.orm.deployment.HibernateOrmProcessor#warnOfSchemaProblems`,  `io.quarkus.hibernate.orm.deployment.HibernateOrmConfigPersistenceUnit#validateInDevMode`.",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/24923/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24923/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
