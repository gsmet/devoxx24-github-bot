{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/25261",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25261/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25261/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25261/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/25261",
  "id": 1220965851,
  "node_id": "I_kwDOCFbutM5IxnXb",
  "number": 25261,
  "title": "Dev Services: older version of Keycloak fails to start since 2.8.0",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2955097667,
      "node_id": "MDU6TGFiZWwyOTU1MDk3NjY3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devservices",
      "name": "area/devservices",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 3289887215,
      "node_id": "MDU6TGFiZWwzMjg5ODg3MjE1",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/keycloak",
      "name": "area/keycloak",
      "color": "0366d6",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": null,
  "comments": 7,
  "created_at": "2022-04-29T14:32:10Z",
  "updated_at": "2023-10-05T08:51:34Z",
  "closed_at": "2022-04-29T15:14:03Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nIn one of the projects I work, we are stuck with Keycloak `9.0.2` in production. Dev Services allows us to properly run tests against that version, which is immense. However, since Quarkus `2.8.0`, the Keycloak container does not start successfully and all tests are skipped after the first one fails due to the container start-up error. \r\n\r\nThis error exists in all `2.8.x` versions released up to now. The latest working version was `2.7.5` and reverting to it fixes the issue. All `2.7.x` work fine, and if I'm not mistaken, our test suite was implemented with this keycloak version and running fine with it since `2.6.3`\r\n\r\nUsed image is: `quay.io/keycloak/keycloak:9.0.2`\n\n### Expected behavior\n\nKeycloak `9.0.2` container is started successfully by Dev Services since no `quarkus.oidc.auth-server-url` is provided, and tests run successfully\n\n### Actual behavior\n\nDev Services attempts to start the keycloak container during the first test of the suite, but start-up fails due to `WFLYSRV0073: Invalid option 'start'` and the whole suite is skipped:\r\n\r\n```\r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ my-project ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running my.project.MyTest\r\n[INFO] [stdout] 2022-04-29 16:05:19,348 INFO  [org.jbo.threads] (main) JBoss Threads version 3.4.2.Final\r\n[INFO] [stdout] 2022-04-29 16:05:19,647 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-28) Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy fro\r\nm ~/.testcontainers.properties, will try it first\r\n[INFO] [stdout] 2022-04-29 16:05:20,046 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-28) Found Docker environment with local Unix socket (unix:///var/run/docker.soc\r\nk)\r\n[INFO] [stdout] 2022-04-29 16:05:20,048 INFO  [org.tes.DockerClientFactory] (build-28) Docker host IP address is localhost\r\n[INFO] [stdout] 2022-04-29 16:05:20,078 INFO  [org.tes.DockerClientFactory] (build-28) Connected to docker:\r\n[INFO] [stdout]   Server Version: 20.10.12\r\n[INFO] [stdout]   API Version: 1.41\r\n[INFO] [stdout]   Operating System: Docker Desktop\r\n[INFO] [stdout]   Total Memory: 25173 MB\r\n[INFO] [stdout] 2022-04-29 16:05:20,086 INFO  [org.tes.uti.ImageNameSubstitutor] (build-28) Image name substitution will be performed by: DefaultImageNameSubstitutor (composit\r\ne of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\r\n[INFO] [stdout] 2022-04-29 16:05:23,352 INFO  [org.tes.uti.RegistryAuthLocator] (build-28) Credential helper/store (docker-credential-desktop.exe) does not have credentials fo\r\nr index.docker.io\r\n[INFO] [stdout] 2022-04-29 16:05:24,966 INFO  [org.tes.uti.RyukResourceReaper] (build-28) Ryuk started - will monitor and terminate Testcontainers containers on JVM exit      \r\n[INFO] [stdout] 2022-04-29 16:05:24,966 INFO  [org.tes.DockerClientFactory] (build-28) Checking the system...\r\n[INFO] [stdout] 2022-04-29 16:05:24,966 INFO  [org.tes.DockerClientFactory] (build-28) ‚úîÔ∏é Docker server version should be at least 1.6.0\r\n[INFO] [stdout] 2022-04-29 16:05:25,086 INFO  [org.tes.DockerClientFactory] (build-28) ‚úîÔ∏é Docker environment should have more than 2GB free disk space\r\n[INFO] [stdout] 2022-04-29 16:05:25,091 INFO  [üê≥ .0.5]] (build-28) Creating container for image: mongo:5.0.5\r\n[INFO] [stdout] 2022-04-29 16:05:25,154 INFO  [üê≥ .0.5]] (build-28) Container mongo:5.0.5 is starting: 8dc4c9469c607cf2c3cd5f28d64f597bedd1a6ba62a7bf2a9777921450c65dfe        \r\n[INFO] [stdout] 2022-04-29 16:05:25,164 INFO  [io.qua.oid.dep.dev.key.KeycloakDevServicesProcessor] (build-13) Using Quarkus powered Keycloak distribution\r\n[INFO] [stdout] 2022-04-29 16:05:25,164 INFO  [üê≥ .io/.0.2]] (build-13) Creating container for image: quay.io/keycloak/keycloak:9.0.2\r\n[INFO] [stdout] 2022-04-29 16:05:25,468 INFO  [org.tes.uti.RegistryAuthLocator] (build-13) Credential helper/store (docker-credential-desktop.exe) does not have credentials fo\r\nr quay.io\r\n[INFO] [stdout] 2022-04-29 16:05:25,512 INFO  [üê≥ .io/.0.2]] (build-13) Container quay.io/keycloak/keycloak:9.0.2 is starting: ea9b7500798955dd17ff48cd67d8b2cb4b8d8197d6a95748\r\nfdb48edd9b6cbfa6\r\n[INFO] [stdout] 2022-04-29 16:05:26,057 INFO  [üê≥ .0.5]] (build-28) Container mongo:5.0.5 started in PT0.965652013S\r\n[INFO] [stdout] 2022-04-29 16:06:27,386 ERROR [üê≥ .io/.0.2]] (build-13) Could not start container: java.lang.IllegalStateException: Container exited with code 1\r\n[INFO] [stdout]         at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:509)\r\n[INFO] [stdout]         at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:340)\r\n[INFO] [stdout]         at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n[INFO] [stdout]         at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:338)\r\n[INFO] [stdout]         at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:326)\r\n[INFO] [stdout]         at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.lambda$startContainer$4(KeycloakDevServicesProcessor.java:334)\r\n[INFO] [stdout]         at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n[INFO] [stdout]         at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startContainer(KeycloakDevServicesProcessor.java:356)\r\n[INFO] [stdout]         at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startKeycloakContainer(KeycloakDevServicesProcessor.java:185)\r\n[INFO] [stdout]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[INFO] [stdout]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[INFO] [stdout]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[INFO] [stdout]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[INFO] [stdout]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n[INFO] [stdout]         at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n[INFO] [stdout]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n[INFO] [stdout]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n[INFO] [stdout]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n[INFO] [stdout]         at java.base/java.lang.Thread.run(Thread.java:833)\r\n[INFO] [stdout]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n[INFO] [stdout]\r\n[INFO] [stdout] 2022-04-29 16:06:27,412 ERROR [üê≥ .io/.0.2]] (build-13) Log output from the failed container:\r\n[INFO] [stdout] start --http-enabled=true --hostname-strict=false --hostname-strict-https=false\r\n[INFO] [stdout] =========================================================================\r\n[INFO] [stdout]\r\n[INFO] [stdout]   Using Embedded H2 database\r\n[INFO] [stdout]\r\n[INFO] [stdout] =========================================================================\r\n[INFO] [stdout]\r\n[INFO] [stdout] =========================================================================\r\n[INFO] [stdout]\r\n[INFO] [stdout]   JBoss Bootstrap Environment\r\n[INFO] [stdout]\r\n[INFO] [stdout]   JBOSS_HOME: /opt/jboss/keycloak\r\n[INFO] [stdout]\r\n[INFO] [stdout]   JAVA: java\r\n[INFO] [stdout]\r\n[INFO] [stdout]   JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.by\r\nteman -Djava.awt.headless=true  --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED --add-exports=jdk.unsupported/sun.reflect=ALL\r\n-UNNAMED\r\n[INFO] [stdout]\r\n[INFO] [stdout] =========================================================================\r\n[INFO] [stdout]\r\n[INFO] [stdout] 14:06:21,016 INFO  [org.jboss.modules] (main) JBoss Modules version 1.9.1.Final\r\n[INFO] [stdout] WFLYSRV0073: Invalid option 'start'\r\n[INFO] [stdout]\r\n[INFO] [stdout] Usage: standalone.sh [args...]\r\n[INFO] [stdout] where args include:\r\n[INFO] [stdout]     --admin-only                        Set the server's running type to\r\n[INFO] [stdout]                                         ADMIN_ONLY causing it to open\r\n[INFO] [stdout]                                         administrative interfaces and accept\r\n[INFO] [stdout]                                         management requests but not start other\r\n[INFO] [stdout]                                         runtime services or accept end user\r\n[INFO] [stdout]                                         requests. Cannot be used in conjunction\r\n[INFO] [stdout]                                         with --start-mode. Deprecated; use\r\n[INFO] [stdout]                                         --start-mode=admin-only instead.\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -b <value>, -b=<value>              Set system property jboss.bind.address\r\n[INFO] [stdout]                                         to the given value\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -b<interface>=<value>               Set system property\r\n[INFO] [stdout]                                         jboss.bind.address.<interface> to the\r\n[INFO] [stdout]                                         given value\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -c <config>, -c=<config>            Name of the server configuration file\r\n[INFO] [stdout]                                         to use (default is \"standalone.xml\")\r\n[INFO] [stdout]                                         (Same as --server-config)\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --debug [<port>]                    Activate debug mode with an optional\r\n[INFO] [stdout]                                         argument to specify the port. Only\r\n[INFO] [stdout]                                         works if the launch script supports it.\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -D<name>[=<value>]                  Set a system property\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -h, --help                          Display this message and exit\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --read-only-server-config=<config>  Name of the server configuration file\r\n[INFO] [stdout]                                         to use. This differs from\r\n[INFO] [stdout]                                         '--server-config' and '-c' in that the\r\n[INFO] [stdout]                                         original file is never overwritten.\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -P <url>, -P=<url>,                 Load system properties from the given\r\n[INFO] [stdout]          --properties=<url>             url\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -S<name>[=<value>]                  Set a security property\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --server-config=<config>            Name of the server configuration file\r\n[INFO] [stdout]                                         to use (default is \"standalone.xml\")\r\n[INFO] [stdout]                                         (Same as -c)\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -u <value>, -u=<value>              Set system property\r\n[INFO] [stdout]                                         jboss.default.multicast.address to the\r\n[INFO] [stdout]                                         given value\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -v, -V, --version                   Print version and exit\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     -secmgr                             Runs the server with a security manager\r\n[INFO] [stdout]                                         installed.\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --start-mode                        Sets the start mode of the server, it\r\n[INFO] [stdout]                                         can be either 'normal','admin-only' or\r\n[INFO] [stdout]                                         'suspend'. If this is 'suspend' the\r\n[INFO] [stdout]                                         server will start in suspended mode,\r\n[INFO] [stdout]                                         and will not service requests until it \r\n[INFO] [stdout]                                         has been resumed. If this is started in\r\n[INFO] [stdout]                                         admin-only mode the server will only\r\n[INFO] [stdout]                                         open administrative interfaces and\r\n[INFO] [stdout]                                         accept management requests but not\r\n[INFO] [stdout]                                         start other runtime services or accept\r\n[INFO] [stdout]                                         end user requests. Cannot be used in\r\n[INFO] [stdout]                                         conjunction with --admin-only.\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --git-repo <repo_url>,              The git repository to clone to get the\r\n[INFO] [stdout]          --git-repo=<repo_url>          server configuration.\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --git-branch <branch>,              The git branch to use to get the server\r\n[INFO] [stdout]          --git-branch=<branch>          configuration. Default is 'master'\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout]     --git-auth <auth_config>,           The elytron configuration file for\r\n[INFO] [stdout]          --git-auth=<auth_config>       managing git credentials. Default is\r\n[INFO] [stdout]                                         'null'\r\n[INFO] [stdout]\r\n[INFO] [stdout]\r\n[INFO] [stdout] 14:06:21,371 FATAL [org.jboss.as.server] (main) WFLYSRV0239: Aborting with exit code 1\r\n[INFO] [stdout]\r\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 1, Time elapsed: 70.591 s <<< FAILURE! - in my.project.MyTest\r\n[ERROR] my.project.MyTest.simpleTest  Time elapsed: 0.003 s  <<< ERROR!\r\njava.lang.RuntimeException:\r\njava.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor#startKeycloakContainer threw an exception: java.lang.RuntimeException:\r\n org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startKeycloakContainer(KeycloakDevServicesProcessor.java:232)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n        at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:345)\r\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:326)\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.lambda$startContainer$4(KeycloakDevServicesProcessor.java:334)\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startContainer(KeycloakDevServicesProcessor.java:356)\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startKeycloakContainer(KeycloakDevServicesProcessor.java:185)\r\n        ... 11 more\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n        at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n        at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:338)\r\n        ... 16 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n        at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:537)\r\n        at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:340)\r\n        at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n        ... 17 more\r\nCaused by: java.lang.IllegalStateException: Container exited with code 1\r\n        at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:509)\r\n        ... 19 more\r\n\r\nCaused by: java.lang.RuntimeException:\r\nio.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor#startKeycloakContainer threw an exception: java.lang.RuntimeException:\r\n org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startKeycloakContainer(KeycloakDevServicesProcessor.java:232)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n        at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:345)\r\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:326)\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.lambda$startContainer$4(KeycloakDevServicesProcessor.java:334)\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startContainer(KeycloakDevServicesProcessor.java:356)\r\n        at io.quarkus.oidc.deployment.devservices.keycloak.KeycloakDevServicesProcessor.startKeycloakContainer(KeycloakDevServicesProcessor.java:185)\r\n        ... 11 more\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n        at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n        at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:338)\r\n        ... 16 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n        at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:537)\r\n        at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:340)\r\n        at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n        ... 17 more\r\nCaused by: java.lang.IllegalStateException: Container exited with code 1\r\n        at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:509)\r\n        ... 19 more\r\n```\n\n### How to Reproduce?\n\nReproducer:\r\n\r\n1) Set Quarkus version to `2.8.0` - `2.8.2`\r\n2) Set property `quarkus.keycloak.devservices.image-name` to `quay.io/keycloak/keycloak:9.0.2`\r\n3) Do not set the property `quarkus.oidc.auth-server-url` so that dev services is invoked\r\n4) Run any test annotated with `@QuarkusTest` and it shall fail\n\n### Output of `uname -a` or `ver`\n\nLinux LAPTOP 5.10.102.1-microsoft-standard-WSL2 #1 SMP Wed Mar 2 00:30:59 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n\n### Output of `java -version`\n\nopenjdk version \"17.0.2\" 2022-01-18 OpenJDK Runtime Environment GraalVM CE 22.0.0.2 (build 17.0.2+8-jvmci-22.0-b05) OpenJDK 64-Bit Server VM GraalVM CE 22.0.0.2 (build 17.0.2+8-jvmci-22.0-b05, mixed mode, sharing)\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n2.8.2.Final\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nApache Maven 3.8.4\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/25261/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25261/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
