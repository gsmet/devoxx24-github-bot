{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/32029",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32029/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32029/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32029/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/32029",
  "id": 1635261021,
  "node_id": "I_kwDOCFbutM5heBpd",
  "number": 32029,
  "title": "Use default ObjectMapper in FormatMappers Configuration for Hibernate ORM's JSONType",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1273026509,
      "node_id": "MDU6TGFiZWwxMjczMDI2NTA5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/persistence",
      "name": "area/persistence",
      "color": "FBCA04",
      "default": false,
      "description": "OBSOLETE, DO NOT USE"
    },
    {
      "id": 1425555736,
      "node_id": "MDU6TGFiZWwxNDI1NTU1NzM2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/hibernate-orm",
      "name": "area/hibernate-orm",
      "color": "0366d6",
      "default": false,
      "description": "Hibernate ORM"
    },
    {
      "id": 1676631606,
      "node_id": "MDU6TGFiZWwxNjc2NjMxNjA2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/env/windows",
      "name": "env/windows",
      "color": "edea47",
      "default": false,
      "description": "Impacts Windows machines"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/288",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/288",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/288/labels",
    "id": 10189838,
    "node_id": "MI_kwDOCFbutM4Am3wO",
    "number": 288,
    "title": "3.7.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 432,
    "state": "closed",
    "created_at": "2023-11-15T08:06:53Z",
    "updated_at": "2024-05-17T12:27:49Z",
    "due_on": null,
    "closed_at": "2024-01-17T13:52:08Z"
  },
  "comments": 18,
  "created_at": "2023-03-22T08:13:50Z",
  "updated_at": "2023-11-29T11:54:49Z",
  "closed_at": "2023-11-22T14:55:04Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nHi, \r\nwhen using \r\n```\r\n@JdbcTypeCode(SqlTypes.JSON)\r\nList<SomeObject> someObjects;\r\n```\r\n from Hibernate 6 and Jackson the JacksonJsonFormatMapper is used, which uses an ObjectMapper from Jackson. \r\nThis  ObjectMapper is not configured like the global ObjectMapper and doesn't see the jsr310 dependency on the path. \r\nAs result types like LocalDate in the type of the Colume raise an exception. \n\n### Expected behavior\n\nIt would be nice, if the global ObjectMapper is used or an Method to supply your own \r\nAlternatively use an ObjectMapper that is configured to respect jsr310. This would mitigate most of the problems. \n\n### Actual behavior\n\n```\r\n@JdbcTypeCode(SqlTypes.JSON)\r\nList<SomeObject> someObjects;\r\n```\r\nraises an exception, if SomeObject contains a LocalDate. \n\n### How to Reproduce?\n\nSetup a Quarkus project with Hibernate 6.\r\n \r\nWrite an Entity with\r\n```\r\n@JdbcTypeCode(SqlTypes.JSON)\r\nList<SomeObject> someObjects;\r\n```\r\nwhere SomeObject is a pojo with a member of type LocalDate.\r\n\r\nPersisten an the entity with data.\n\n### Output of `uname -a` or `ver`\n\nwindows32 Name 2.6.2 9200 i686-pc Intel unknown MinGW\n\n### Output of `java -version`\n\nopenjdk 11.0.7 2020-04-14 OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.7+10) OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.7+10, mixed mode)\n\n### GraalVM version (if different from Java)\n\nNot used\n\n### Quarkus version or git rev\n\n3.0.0.Alpha6\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nMaven 3.8.4\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/32029/reactions",
    "total_count": 6,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 5
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32029/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
