{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/27058",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27058/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27058/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27058/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/27058",
  "id": 1324319807,
  "node_id": "I_kwDOCFbutM5O74Q_",
  "number": 27058,
  "title": "OpenAPI UI displays incorrect values for overridden QueryParams using DefaultValue",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1283619446,
      "node_id": "MDU6TGFiZWwxMjgzNjE5NDQ2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye",
      "name": "area/smallrye",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 1336727006,
      "node_id": "MDU6TGFiZWwxMzM2NzI3MDA2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/openapi",
      "name": "area/openapi",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/202",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/202",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/202/labels",
    "id": 8320597,
    "node_id": "MI_kwDOCFbutM4AfvZV",
    "number": 202,
    "title": "2.12.0.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 29,
    "state": "closed",
    "created_at": "2022-08-18T09:13:26Z",
    "updated_at": "2023-01-13T10:55:56Z",
    "due_on": null,
    "closed_at": "2022-08-24T20:24:12Z"
  },
  "comments": 2,
  "created_at": "2022-08-01T12:11:13Z",
  "updated_at": "2022-08-23T20:55:59Z",
  "closed_at": "2022-08-18T14:25:42Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nWhen overriding a method with defined `@Queryparam`'s and `@DefaultValue`'s, the swagger UI does not correctly display the newly assigned `DefaultValue`'s from the overridden method.\r\n\r\nSay I have an interface with a defined `reindex` method:\r\n```java\r\npublic interface BaseCrudInterface<E extends BaseEntity> {\r\n\t\r\n\t@GET\r\n\t@Path(\"/reindex\")\r\n\t@Tag(name = \"Reindex Endpoints\")\r\n\tpublic void reindex(\r\n\t\t@DefaultValue(\"2000\") @QueryParam(\"batchSizeToLoadObjects\") Integer batchSizeToLoadObjects,\r\n\t\t@DefaultValue(\"20000\") @QueryParam(\"idFetchSize\") Integer idFetchSize,\r\n\t\t@DefaultValue(\"0\") @QueryParam(\"limitIndexedObjectsTo\") Integer limitIndexedObjectsTo,\r\n\t\t@DefaultValue(\"4\") @QueryParam(\"threadsToLoadObjects\") Integer threadsToLoadObjects,\r\n\t\t@DefaultValue(\"7200\") @QueryParam(\"transactionTimeout\") Integer transactionTimeout,\r\n\t\t@DefaultValue(\"1\") @QueryParam(\"typesToIndexInParallel\") Integer typesToIndexInParallel\r\n\t);\r\n}\r\n```\r\n\r\nand another interface that extends this base interface and overrides the `index` method:\r\n```java\r\npublic interface AffectedGenomicModelCrudInterface extends BaseCurieCrudInterface<AffectedGenomicModel> {\r\n\r\n\t@Override\r\n\t@GET\r\n\t@Path(\"/reindex\")\r\n\t@Tag(name = \"Reindex Endpoints\")\r\n\tpublic void reindex(\r\n\t\t@DefaultValue(\"60\") @QueryParam(\"batchSizeToLoadObjects\") Integer batchSizeToLoadObjects,\r\n\t\t@DefaultValue(\"0\") @QueryParam(\"idFetchSize\") Integer idFetchSize,\r\n\t\t@DefaultValue(\"0\") @QueryParam(\"limitIndexedObjectsTo\") Integer limitIndexedObjectsTo,\r\n\t\t@DefaultValue(\"1\") @QueryParam(\"threadsToLoadObjects\") Integer threadsToLoadObjects,\r\n\t\t@DefaultValue(\"7200\") @QueryParam(\"transactionTimeout\") Integer transactionTimeout,\r\n\t\t@DefaultValue(\"1\") @QueryParam(\"typesToIndexInParallel\") Integer typesToIndexInParallel\r\n\t);\r\n}\r\n```\r\n\r\nThe endpoint resulting from this `AffectedGenomicModelCrudInterface` should result in a new default value set for this specific endpoint. However, when looking at the swagger UI for this endpoint, it still shows the default value of the base interface, rather than the specific defaults for the `AffectedGenomicModelCrudInterface`.\r\n![image](https://user-images.githubusercontent.com/2804117/182143861-dc5678ad-4060-4ff8-a205-3799e06d8088.png)\r\n\r\nWhen removing these default values and then hitting execute with empty queryparam boxes, the logs learn me that the `DefaultValue`'s specified in the `AffectedGenomicModelCrudInterface` were applied, and so the overriding did occur as expected, as opposed to the swagger UI display of them.\n\n### Expected behavior\n\nThe Swagger UI should display the `@DefaulValue`'s as defined in the method from the subclass.\n\n### Actual behavior\n\nThe Swagger UI displays the `@DefaulValue`'s as defined in the method in the parent class, ignoring any `@override`'s.\n\n### How to Reproduce?\n\nDefine QueryParams in one class, inherit and override them in another, and watch default values that get displayed in the swagger UI.\n\n### Output of `uname -a` or `ver`\n\nLinux DESKTOP-OLM4LTH 5.10.102.1-microsoft-standard-WSL2 #1 SMP Wed Mar 2 00:30:59 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n\n### Output of `java -version`\n\nopenjdk version \"11.0.15\" 2022-04-19\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n2.11.1.Final\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nApache Maven 3.8.5\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/27058/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27058/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
