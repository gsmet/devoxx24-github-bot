{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39553",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39553/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39553/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39553/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/39553",
  "id": 2195040506,
  "node_id": "I_kwDOCFbutM6C1aj6",
  "number": 39553,
  "title": "Consider enabling UserInfo cache by default for OAuth2 providers",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1479557456,
      "node_id": "MDU6TGFiZWwxNDc5NTU3NDU2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/oidc",
      "name": "area/oidc",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/314",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/314",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/314/labels",
    "id": 10677603,
    "node_id": "MI_kwDOCFbutM4Aou1j",
    "number": 314,
    "title": "3.10.0.CR1",
    "description": "",
    "creator": {
      "login": "quarkusbot",
      "id": 61254497,
      "node_id": "MDQ6VXNlcjYxMjU0NDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/61254497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quarkusbot",
      "html_url": "https://github.com/quarkusbot",
      "followers_url": "https://api.github.com/users/quarkusbot/followers",
      "following_url": "https://api.github.com/users/quarkusbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/quarkusbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarkusbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarkusbot/subscriptions",
      "organizations_url": "https://api.github.com/users/quarkusbot/orgs",
      "repos_url": "https://api.github.com/users/quarkusbot/repos",
      "events_url": "https://api.github.com/users/quarkusbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarkusbot/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 193,
    "state": "closed",
    "created_at": "2024-03-13T09:10:43Z",
    "updated_at": "2024-08-07T12:18:40Z",
    "due_on": null,
    "closed_at": "2024-04-16T15:31:05Z"
  },
  "comments": 1,
  "created_at": "2024-03-19T13:52:49Z",
  "updated_at": "2024-04-11T10:18:26Z",
  "closed_at": "2024-04-11T10:18:23Z",
  "active_lock_reason": null,
  "body": "### Description\n\nRight now, if any of the Oauth2 providers which give only an access token, Quarkus does an indirect access token verification to allow an access to Quarkus, by requesting UserInfo which is a provider specific JSON representing someting about the authenticated user.\r\nTo control the rate limiting, one has to enable the cache which can be considered suboptimal.\r\n@Sanne and @FroMage propose to have the cache enabled by default, with Sanne suggesting to warn in the logs to make sure the users are aware, and if the users want they can then explicitly disable it.\r\n\r\n\n\n### Implementation ideas\n\nWhat needs to be decided if what kind of cache is enabled by default in this case, the default in-mem one or a stateless one where UserInfo is kept in the encrypted cookie.\r\n\r\nI guess if the encryption is enabled with a proper secret key size, then it can be kept in the generated ID token in the encrypted cookie.\r\n\r\nIn the short term, as proposed by @Sanne, a log message advising to enable the cache will be of help  ",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39553/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39553/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
