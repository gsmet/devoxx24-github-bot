{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39269",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39269/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39269/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39269/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/39269",
  "id": 2174495422,
  "node_id": "I_kwDOCFbutM6BnCq-",
  "number": 39269,
  "title": "Simplify configuration based mapping of token roles to deployment-specific SecurityIdentity",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1282139374,
      "node_id": "MDU6TGFiZWwxMjgyMTM5Mzc0",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/security",
      "name": "area/security",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/314",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/314",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/314/labels",
    "id": 10677603,
    "node_id": "MI_kwDOCFbutM4Aou1j",
    "number": 314,
    "title": "3.10.0.CR1",
    "description": "",
    "creator": {
      "login": "quarkusbot",
      "id": 61254497,
      "node_id": "MDQ6VXNlcjYxMjU0NDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/61254497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quarkusbot",
      "html_url": "https://github.com/quarkusbot",
      "followers_url": "https://api.github.com/users/quarkusbot/followers",
      "following_url": "https://api.github.com/users/quarkusbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/quarkusbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarkusbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarkusbot/subscriptions",
      "organizations_url": "https://api.github.com/users/quarkusbot/orgs",
      "repos_url": "https://api.github.com/users/quarkusbot/repos",
      "events_url": "https://api.github.com/users/quarkusbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarkusbot/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 193,
    "state": "closed",
    "created_at": "2024-03-13T09:10:43Z",
    "updated_at": "2024-08-07T12:18:40Z",
    "due_on": null,
    "closed_at": "2024-04-16T15:31:05Z"
  },
  "comments": 8,
  "created_at": "2024-03-07T18:29:13Z",
  "updated_at": "2024-03-13T09:42:03Z",
  "closed_at": "2024-03-13T09:42:00Z",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nWe have shared HTTP permissions that allow to configure checks and mappings that are always applied when the path is matched in addition to winning most-specific path policy. Here https://github.com/quarkusio/quarkus/issues/37989#issuecomment-1875780217 it was suggested we could add configuration properties like\r\n\r\n```\r\nquarkus.http.auth.roles-mapping.administrator=admin\r\nquarkus.http.auth.roles-mapping.customer=user\r\n```\r\nthat will always be merged to whatever winning most specific policy mapping is applied. This way, user can avoid repeating path patterns. Also it simplifies token roles to deployment-specific SecurityIdentity roles mapping that right now requires:\r\n\r\n```\r\nquarkus.http.auth.policy.role-policy1.roles.administrator=admin\r\nquarkus.http.auth.policy.role-policy1.roles.customer=user\r\nquarkus.http.auth.permission.roles1.paths=/*        \r\nquarkus.http.auth.permission.roles1.policy=role-policy1\r\nquarkus.http.auth.permission.roles1.shared=true\r\n```\r\n\r\nwhich also requires that all HTTP requests to application endpoints are authenticated, which is something users need to avoid at many scenarios (app has often public endpoints, or decides to secure some endpoints with standard security annotations instead, of just optionally do stuff if user is authenticated and has certain role etc.).\r\n\r\n### Implementation ideas\r\n\r\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39269/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39269/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
