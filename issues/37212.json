{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/37212",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37212/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37212/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37212/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/37212",
  "id": 2001884144,
  "node_id": "I_kwDOCFbutM53UlPw",
  "number": 37212,
  "title": "[GraalVM 24.0] quarkus-integration-test-kotlin-serialization fails with latest GraalVM master tree and quarkus main branch",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1287515315,
      "node_id": "MDU6TGFiZWwxMjg3NTE1MzE1",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/kotlin",
      "name": "area/kotlin",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2497075451,
      "node_id": "MDU6TGFiZWwyNDk3MDc1NDUx",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/native-image",
      "name": "area/native-image",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": null,
  "comments": 4,
  "created_at": "2023-11-20T10:38:10Z",
  "updated_at": "2023-11-30T14:01:43Z",
  "closed_at": "2023-11-30T14:01:43Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nWe see new kotlin-serialization native integration test failures since this week using GraalVM for JDK 22 (internal version 24.0):\r\n\r\n```\r\n========================================================================================================================\r\nGraalVM Native Image: Generating 'quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner' (executable)...\r\n========================================================================================================================\r\nFor detailed information and explanations on the build output, visit:\r\nhttps://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/BuildOutput.md\r\n------------------------------------------------------------------------------------------------------------------------\r\n[1/8] Initializing...                                                                                    (5.7s @ 0.23GB)\r\n Java version: 22+23, vendor version: GraalVM CE 22-dev+23.1\r\n Graal compiler: optimization level: 2, target machine: x86-64-v3\r\n C compiler: gcc (linux, x86_64, 11.4.0)\r\n Garbage collector: Serial GC (max heap size: 80% of RAM)\r\n 3 user-specific feature(s):\r\n - com.oracle.svm.thirdparty.gson.GsonFeature\r\n - io.quarkus.runner.Feature: Auto-generated class by Quarkus from the existing extensions\r\n - io.quarkus.runtime.graal.DisableLoggingFeature: Disables INFO logging during the analysis phase\r\n------------------------------------------------------------------------------------------------------------------------\r\n 4 experimental option(s) unlocked:\r\n - '-H:+AllowFoldMethods' (origin(s): command line)\r\n - '-H:BuildOutputJSONFile' (origin(s): command line)\r\n - '-H:-UseServiceLoaderFeature' (origin(s): command line)\r\n - '-H:ReflectionConfigurationResources': Use a reflect-config.json in your META-INF/native-image/<groupID>/<artifactID> directory instead. (origin(s): 'META-INF/native-image/io.netty/netty-transport/native-image.properties' in 'file:///home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-native-image-source-jar/lib/io.netty.netty-transport-4.1.100.Final.jar')\r\n------------------------------------------------------------------------------------------------------------------------\r\nBuild resources:\r\n - 4.44GB of memory (28.5% of 15.61GB system memory, set via '-Xmx5g')\r\n - 4 thread(s) (100.0% of 4 available processor(s), determined at start)\r\n[2/8] Performing analysis...  [******]                                                                  (52.5s @ 1.23GB)\r\n   13,634 reachable types   (87.5% of   15,579 total)\r\n   18,306 reachable fields  (51.7% of   35,408 total)\r\n   67,899 reachable methods (57.1% of  118,929 total)\r\n    4,441 types,   127 fields, and 3,663 methods registered for reflection\r\n       61 types,    61 fields, and    55 methods registered for JNI access\r\n        4 native libraries: dl, pthread, rt, z\r\n[3/8] Building universe...                                                                               (6.7s @ 1.32GB)\r\n[4/8] Parsing methods...      [**]                                                                       (4.9s @ 1.98GB)\r\n[5/8] Inlining methods...     [***]                                                                      (3.4s @ 1.91GB)\r\n[6/8] Compiling methods...    [******]                                                                  (44.5s @ 1.94GB)\r\n[7/8] Laying out methods...   [**]                                                                       (4.9s @ 1.60GB)\r\n[8/8] Creating image...       [**]                                                                       (4.3s @ 1.49GB)\r\n  26.22MB (44.57%) for code area:    43,154 compilation units\r\n  32.28MB (54.85%) for image heap:  376,660 objects and 88 resources\r\n 349.88kB ( 0.58%) for other data\r\n  58.84MB in total\r\n------------------------------------------------------------------------------------------------------------------------\r\nTop 10 origins of code area:                                Top 10 object types in image heap:\r\n  12.93MB java.base                                            8.43MB byte[] for code metadata\r\n   3.31MB org.jetbrains.kotlin.kotlin-reflect-1.9.10.jar       5.26MB byte[] for java.lang.String\r\n   1.38MB svm.jar (Native Image)                               3.50MB java.lang.Class\r\n 896.81kB modified-io.vertx.vertx-core-4.4.6.jar               3.27MB java.lang.String\r\n 820.42kB q.jar                                                1.14MB com.oracle.svm.core.hub.DynamicHubCompanion\r\n 445.77kB io.netty.netty-buffer-4.1.100.Final.jar            963.11kB byte[] for general heap data\r\n 407.53kB io.netty.netty-codec-http-4.1.100.Final.jar        924.02kB byte[] for reflection metadata\r\n 372.56kB io.netty.netty-common-4.1.100.Final.jar            868.51kB java.lang.Object[]\r\n 371.71kB io.netty.netty-codec-http2-4.1.100.Final.jar       658.55kB java.lang.String[]\r\n 369.51kB io.smallrye.config.smallrye-config-core-3.4.4.jar  489.38kB c.o.svm.core.hub.DynamicHub$ReflectionMetadata\r\n   4.69MB for 82 more packages                                 6.86MB for 3605 more object types\r\n------------------------------------------------------------------------------------------------------------------------\r\nRecommendations:\r\n HEAP: Set max heap for improved and more predictable memory usage.\r\n CPU:  Enable more CPU features with '-march=native' for improved performance.\r\n------------------------------------------------------------------------------------------------------------------------\r\n                        11.4s (8.8% of total time) in 99 GCs | Peak RSS: 3.21GB | CPU load: 3.67\r\n------------------------------------------------------------------------------------------------------------------------\r\nProduced artifacts:\r\n /home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-native-image-source-jar/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner (executable)\r\n /home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-native-image-source-jar/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner-build-output-stats.json (build_info)\r\n========================================================================================================================\r\nFinished generating 'quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner' in 2m 9s.\r\n[INFO] [io.quarkus.deployment.pkg.steps.NativeImageBuildRunner] objcopy --strip-debug quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner\r\n[INFO] [io.quarkus.deployment.QuarkusAugmentor] Quarkus augmentation completed in 132301ms\r\n[INFO] \r\n[INFO] --- failsafe:3.1.2:integration-test (default) @ quarkus-integration-test-kotlin-serialization ---\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running io.quarkus.it.kotser.ResourceIT\r\nExecuting \"/home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner -Dquarkus.http.port=8081 -Dquarkus.http.ssl-port=8444 -Dtest.url=http://localhost:8081 -Dquarkus.log.file.path=/home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus.log -Dquarkus.log.file.enable=true -Dquarkus.log.category.\"io.quarkus\".level=INFO -Dquarkus.native.native-image-xmx=5g\"\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,< / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2023-11-20 02:54:45,441 INFO  [io.quarkus] (main) quarkus-integration-test-kotlin-serialization 999-SNAPSHOT native (powered by Quarkus 999-SNAPSHOT) started in 0.022s. Listening on: http://0.0.0.0:8081/\r\n2023-11-20 02:54:45,442 INFO  [io.quarkus] (main) Profile prod activated. \r\n2023-11-20 02:54:45,442 INFO  [io.quarkus] (main) Installed features: [cdi, kotlin, resteasy-reactive, resteasy-reactive-kotlin-serialization, smallrye-context-propagation, vertx]\r\n2023-11-20 02:54:46,764 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /create failed, error id: 032b2890-58b1-49c5-aad9-9747e46e884a-1: java.lang.NullPointerException\r\n\tat java.base@22/java.util.Objects.requireNonNull(Objects.java:220)\r\n\tat java.base@22/java.lang.ModuleLayer.findModule(ModuleLayer.java:870)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk.ResourcesHelper.nameToResourceInputStream(ResourcesHelper.java:112)\r\n\tat java.base@22/jdk.internal.loader.BuiltinClassLoader.findResourceAsStream(BuiltinClassLoader.java:72)\r\n\tat java.base@22/java.lang.Module.getResourceAsStream(Module.java:1724)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.builtins.BuiltInsResourceLoader.loadResource(BuiltInsResourceLoader.java:27)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.runtime.components.ReflectKotlinClassFinder.findBuiltInsData(ReflectKotlinClassFinder.kt:57)\r\n\tat kotlin.reflect.jvm.internal.impl.builtins.jvm.JvmBuiltInsPackageFragmentProvider.findPackage(JvmBuiltInsPackageFragmentProvider.kt:61)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.AbstractDeserializedPackageFragmentProvider$fragments$1.invoke(AbstractDeserializedPackageFragmentProvider.kt:35)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.AbstractDeserializedPackageFragmentProvider$fragments$1.invoke(AbstractDeserializedPackageFragmentProvider.kt:34)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:578)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.AbstractDeserializedPackageFragmentProvider.collectPackageFragments(AbstractDeserializedPackageFragmentProvider.kt:43)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.PackageFragmentProviderKt.collectPackageFragmentsOptimizedIfPossible(PackageFragmentProvider.kt:59)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.CompositePackageFragmentProvider.collectPackageFragments(CompositePackageFragmentProvider.kt:46)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.PackageFragmentProviderKt.collectPackageFragmentsOptimizedIfPossible(PackageFragmentProvider.kt:59)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.CompositePackageFragmentProvider.collectPackageFragments(CompositePackageFragmentProvider.kt:46)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.PackageFragmentProviderKt.collectPackageFragmentsOptimizedIfPossible(PackageFragmentProvider.kt:59)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.PackageFragmentProviderKt.packageFragments(PackageFragmentProvider.kt:43)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.LazyPackageViewDescriptorImpl$fragments$2.invoke(LazyPackageViewDescriptorImpl.kt:35)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.LazyPackageViewDescriptorImpl$fragments$2.invoke(LazyPackageViewDescriptorImpl.kt:34)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:408)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:527)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.StorageKt.getValue(storage.kt:42)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.LazyPackageViewDescriptorImpl.getFragments(LazyPackageViewDescriptorImpl.kt:34)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.LazyPackageViewDescriptorImpl$memberScope$1.invoke(LazyPackageViewDescriptorImpl.kt:49)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.impl.LazyPackageViewDescriptorImpl$memberScope$1.invoke(LazyPackageViewDescriptorImpl.kt:44)\r\n\tat kotlin.reflect.jvm.internal.impl.resolve.scopes.LazyScopeAdapter$lazyScope$1.invoke(LazyScopeAdapter.kt:28)\r\n\tat kotlin.reflect.jvm.internal.impl.resolve.scopes.LazyScopeAdapter$lazyScope$1.invoke(LazyScopeAdapter.kt:27)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:408)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:527)\r\n\tat kotlin.reflect.jvm.internal.impl.resolve.scopes.LazyScopeAdapter.getWorkerScope(LazyScopeAdapter.kt:34)\r\n\tat kotlin.reflect.jvm.internal.impl.resolve.scopes.AbstractScopeAdapter.getContributedClassifier(AbstractScopeAdapter.kt:44)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.FindClassInModuleKt.findClassifierAcrossModuleDependencies(findClassInModule.kt:26)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer.computeClassifierDescriptor(TypeDeserializer.kt:268)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer.access$computeClassifierDescriptor(TypeDeserializer.kt:28)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer$classifierDescriptors$1.invoke(TypeDeserializer.kt:37)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer$classifierDescriptors$1.invoke(TypeDeserializer.kt:36)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:578)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer.typeConstructor(TypeDeserializer.kt:161)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer.simpleType(TypeDeserializer.kt:91)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.TypeDeserializer.type(TypeDeserializer.kt:68)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedClassDescriptor$DeserializedClassTypeConstructor.computeSupertypes(DeserializedClassDescriptor.kt:240)\r\n\tat kotlin.reflect.jvm.internal.impl.types.AbstractTypeConstructor$supertypes$1.invoke(AbstractTypeConstructor.kt:78)\r\n\tat kotlin.reflect.jvm.internal.impl.types.AbstractTypeConstructor$supertypes$1.invoke(AbstractTypeConstructor.kt:77)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:408)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValueWithPostCompute.invoke(LockBasedStorageManager.java:481)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValueWithPostCompute.invoke(LockBasedStorageManager.java:512)\r\n\tat kotlin.reflect.jvm.internal.impl.types.AbstractTypeConstructor.getSupertypes(AbstractTypeConstructor.kt:27)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedClassDescriptor$DeserializedClassMemberScope.getNonDeclaredFunctionNames(DeserializedClassDescriptor.kt:352)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope$OptimizedImplementation$functionNames$2.invoke(DeserializedMemberScope.kt:258)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope$OptimizedImplementation$functionNames$2.invoke(DeserializedMemberScope.kt:257)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:408)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:527)\r\n\tat kotlin.reflect.jvm.internal.impl.storage.StorageKt.getValue(storage.kt:42)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope$OptimizedImplementation.getFunctionNames(DeserializedMemberScope.kt:257)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope$OptimizedImplementation.getContributedFunctions(DeserializedMemberScope.kt:328)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope.getContributedFunctions(DeserializedMemberScope.kt:82)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedClassDescriptor$DeserializedClassMemberScope.getContributedFunctions(DeserializedClassDescriptor.kt:291)\r\n\tat kotlin.reflect.jvm.internal.KClassImpl.getFunctions(KClassImpl.kt:211)\r\n\tat kotlin.reflect.jvm.internal.KDeclarationContainerImpl.findFunctionDescriptor(KDeclarationContainerImpl.kt:141)\r\n\tat kotlin.reflect.jvm.internal.KFunctionImpl$descriptor$2.invoke(KFunctionImpl.kt:59)\r\n\tat kotlin.reflect.jvm.internal.KFunctionImpl$descriptor$2.invoke(KFunctionImpl.kt:58)\r\n\tat kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke(ReflectProperties.java:93)\r\n\tat kotlin.reflect.jvm.internal.ReflectProperties$Val.getValue(ReflectProperties.java:32)\r\n\tat kotlin.reflect.jvm.internal.KFunctionImpl.getDescriptor(KFunctionImpl.kt:58)\r\n\tat kotlin.reflect.jvm.internal.KFunctionImpl$caller$2.invoke(KFunctionImpl.kt:65)\r\n\tat kotlin.reflect.jvm.internal.KFunctionImpl$caller$2.invoke(KFunctionImpl.kt:64)\r\n\tat kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)\r\n\tat kotlin.reflect.jvm.internal.KFunctionImpl.getCaller(KFunctionImpl.kt:64)\r\n\tat kotlin.reflect.jvm.ReflectJvmMapping.getJavaMethod(ReflectJvmMapping.kt:64)\r\n\tat io.quarkus.it.kotser.GreetingResource.create(GreetingResource.kt:72)\r\n\tat io.quarkus.it.kotser.GreetingResource$quarkusrestinvoker$create_6cb5d7fd41f2272b51b55657a0d1a57c29f328c0.invoke(Unknown Source)\r\n\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@22/java.lang.Thread.runWith(Thread.java:1583)\r\n\tat java.base@22/java.lang.Thread.run(Thread.java:1570)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:784)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:211)\r\n\r\nRequest method:\tGET\r\nRequest URI:\thttp://localhost:8081/create\r\nProxy:\t\t\t<none>\r\nRequest params:\t<none>\r\nQuery params:\t<none>\r\nForm params:\t<none>\r\nPath params:\t<none>\r\nHeaders:\t\tAccept=text/plain\r\nCookies:\t\t<none>\r\nMultiparts:\t\t<none>\r\nBody:\t\t\t<none>\r\n\r\nHTTP/1.1 500 Internal Server Error\r\ncontent-type: application/json; charset=utf-8\r\ncontent-length: 72\r\n\r\n{\r\n    \"details\": \"Error id 032b2890-58b1-49c5-aad9-9747e46e884a-1\",\r\n    \"stack\": \"\"\r\n}\r\nExecuting \"/home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus-integration-test-kotlin-serialization-999-SNAPSHOT-runner -Dquarkus.http.port=8081 -Dquarkus.http.ssl-port=8444 -Dtest.url=http://localhost:8081 -Dquarkus.log.file.path=/home/runner/work/mandrel/mandrel/quarkus/integration-tests/kotlin-serialization/target/quarkus.log -Dquarkus.log.file.enable=true -Dquarkus.log.category.\"io.quarkus\".level=INFO -Dquarkus.http.port=8081 -Dquarkus.http.test-port=8081 -Dquarkus.native.native-image-xmx=5g\"\r\n```\r\n\r\nNote that native compilation passes, but the integration test fails with:\r\n\r\n```\r\n2023-11-20 02:54:46,764 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /create failed, error id: 032b2890-58b1-49c5-aad9-9747e46e884a-1: java.lang.NullPointerException\r\n\tat java.base@22/java.util.Objects.requireNonNull(Objects.java:220)\r\n\tat java.base@22/java.lang.ModuleLayer.findModule(ModuleLayer.java:870)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk.ResourcesHelper.nameToResourceInputStream(ResourcesHelper.java:112)\r\n\tat java.base@22/jdk.internal.loader.BuiltinClassLoader.findResourceAsStream(BuiltinClassLoader.java:72)\r\n\tat java.base@22/java.lang.Module.getResourceAsStream(Module.java:1724)\r\n\tat kotlin.reflect.jvm.internal.impl.serialization.deserialization.builtins.BuiltInsResourceLoader.loadResource(BuiltInsResourceLoader.java:27)\r\n\tat kotlin.reflect.jvm.internal.impl.descriptors.runtime.components.ReflectKotlinClassFinder.findBuiltInsData(ReflectKotlinClassFinder.kt:57)\r\n```\r\n\r\nSo it could be a missing resource config? Did the kotlin stack change rectently?\r\n\r\nSee the failure in CI here: https://github.com/graalvm/mandrel/actions/runs/6924384895/job/18834182669#step:12:773",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/37212/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/37212/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
