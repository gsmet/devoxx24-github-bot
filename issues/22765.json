{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22765",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22765/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22765/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22765/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/22765",
  "id": 1097871398,
  "node_id": "I_kwDOCFbutM5BcDAm",
  "number": 22765,
  "title": "Status Code and Message Mismatch in WebApplicationException",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1326067509,
      "node_id": "MDU6TGFiZWwxMzI2MDY3NTA5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/rest-client",
      "name": "area/rest-client",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2552031458,
      "node_id": "MDU6TGFiZWwyNTUyMDMxNDU4",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/rest",
      "name": "area/rest",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/170",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/170",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/170/labels",
    "id": 7576680,
    "node_id": "MI_kwDOCFbutM4Ac5xo",
    "number": 170,
    "title": "2.6.3.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 54,
    "state": "closed",
    "created_at": "2022-01-15T21:47:17Z",
    "updated_at": "2022-10-31T15:34:22Z",
    "due_on": null,
    "closed_at": "2022-01-20T14:36:42Z"
  },
  "comments": 4,
  "created_at": "2022-01-10T12:59:15Z",
  "updated_at": "2022-01-15T21:47:49Z",
  "closed_at": "2022-01-10T17:02:15Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nWhen using the RESTEasy Reactive Client the HTTP status message doesn't match the HTTP status code.\n\n### Expected behavior\n\nThe HTTP status message is expected to match the status code\n\n### Actual behavior\n\n```java\r\n @Test\r\n    void testWebApplicationException() {\r\n        assertEquals(\"HTTP 428 Precondition required\", new WebApplicationException(428).getMessage());\r\n        // HTTP 428 Expectation Failed\r\n        // should be: HTTP 428 Precondition required\r\n\r\n        assertEquals(\"HTTP 429 Too Many Requests\", new WebApplicationException(429).getMessage());\r\n        // HTTP 429 Precondition Required\r\n        // should be: HTTP 429 Too Many Requests\r\n\r\n        assertEquals(\"431 Request Header Fields Too Large\", new WebApplicationException(431).getMessage());\r\n        // HTTP 431 Too Many Requests\r\n        // should be: HTTP 431 Request Header Fields Too Large\r\n    }\r\n\r\n            // taken from Response.class\r\n        //\r\n        //    REQUESTED_RANGE_NOT_SATISFIABLE(416, \"Requested Range Not Satisfiable\"),\r\n        //    /**\r\n        //     * 417 Expectation Failed, see {@link <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.18\">HTTP/1.1 documentation</a>}.\r\n        //     *\r\n        //     * @since 2.0\r\n        //     */\r\n        //    EXPECTATION_FAILED(417, \"Expectation Failed\"),\r\n        //    /**\r\n        //     * 428 Precondition required, see {@link <a href=\"https://tools.ietf.org/html/rfc6585#section-3\">RFC 6585: Additional HTTP Status Codes</a>}.\r\n        //     *\r\n        //     * @since 2.1\r\n        //     */\r\n        //    PRECONDITION_REQUIRED(428, \"Precondition Required\"),\r\n        //    /**\r\n        //     * 429 Too Many Requests, see {@link <a href=\"https://tools.ietf.org/html/rfc6585#section-4\">RFC 6585: Additional HTTP Status Codes</a>}.\r\n        //     *\r\n        //     * @since 2.1\r\n        //     */\r\n        //    TOO_MANY_REQUESTS(429, \"Too Many Requests\"),\r\n        //    /**\r\n        //     * 431 Request Header Fields Too Large, see {@link <a href=\"https://tools.ietf.org/html/rfc6585#section-5\">RFC 6585: Additional HTTP Status Codes</a>}.\r\n        //     *\r\n        //     * @since 2.1\r\n        //     */\r\n        //    REQUEST_HEADER_FIELDS_TOO_LARGE(431, \"Request Header Fields Too Large\"),\r\n\r\n```\r\n\n\n### How to Reproduce?\n\nrun the JBang script:\r\n\r\n```java\r\n///usr/bin/env jbang \"$0\" \"$@\" ; exit $?\r\n//JAVAC_OPTIONS -parameters\r\n//JAVA_OPTIONS -Djava.util.logging.manager=org.jboss.logmanager.LogManager\r\n\r\n//DEPS io.quarkus:quarkus-rest-client-reactive:2.6.1.Final\r\n//DEPS io.quarkus:quarkus-arc:2.6.1.Final\r\n\r\nimport static java.lang.System.*;\r\n\r\nimport io.quarkus.runtime.annotations.QuarkusMain;\r\nimport io.quarkus.runtime.Quarkus;\r\nimport javax.inject.Inject;\r\nimport org.jboss.logging.Logger;\r\nimport javax.ws.rs.WebApplicationException;\r\nimport javax.ws.rs.core.Response;\r\n\r\n@QuarkusMain\r\npublic class webapplicationexception {\r\n\r\n    public static void main(String... args) {\r\n        System.out.println(\"Expected: \" + Response.Status.PRECONDITION_REQUIRED.getStatusCode() + \" \" + Response.Status.PRECONDITION_REQUIRED.getReasonPhrase());\r\n        System.out.println(\"Got: \" + new WebApplicationException(428).getMessage());\r\n        System.out.println();\r\n\r\n        System.out.println(\"Expected: \" + Response.Status.TOO_MANY_REQUESTS.getStatusCode() + \" \" + Response.Status.TOO_MANY_REQUESTS.getReasonPhrase());\r\n        System.out.println(\"Got: \" + new WebApplicationException(429).getMessage());\r\n        System.out.println();\r\n\r\n        System.out.println(\"Expected: \" + Response.Status.REQUEST_HEADER_FIELDS_TOO_LARGE.getStatusCode() + \" \" + Response.Status.REQUEST_HEADER_FIELDS_TOO_LARGE.getReasonPhrase());\r\n        System.out.println(\"Got: \" + new WebApplicationException(431).getMessage());\r\n    }\r\n\r\n    // taken from public enum Status implements StatusType in Response.class\r\n    //\r\n    //    REQUESTED_RANGE_NOT_SATISFIABLE(416, \"Requested Range Not Satisfiable\"),\r\n    //    /**\r\n    //     * 417 Expectation Failed, see {@link <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.18\">HTTP/1.1 documentation</a>}.\r\n    //     *\r\n    //     * @since 2.0\r\n    //     */\r\n    //    EXPECTATION_FAILED(417, \"Expectation Failed\"),\r\n    //    /**\r\n    //     * 428 Precondition required, see {@link <a href=\"https://tools.ietf.org/html/rfc6585#section-3\">RFC 6585: Additional HTTP Status Codes</a>}.\r\n    //     *\r\n    //     * @since 2.1\r\n    //     */\r\n    //    PRECONDITION_REQUIRED(428, \"Precondition Required\"),\r\n    //    /**\r\n    //     * 429 Too Many Requests, see {@link <a href=\"https://tools.ietf.org/html/rfc6585#section-4\">RFC 6585: Additional HTTP Status Codes</a>}.\r\n    //     *\r\n    //     * @since 2.1\r\n    //     */\r\n    //    TOO_MANY_REQUESTS(429, \"Too Many Requests\"),\r\n    //    /**\r\n    //     * 431 Request Header Fields Too Large, see {@link <a href=\"https://tools.ietf.org/html/rfc6585#section-5\">RFC 6585: Additional HTTP Status Codes</a>}.\r\n    //     *\r\n    //     * @since 2.1\r\n    //     */\r\n    //    REQUEST_HEADER_FIELDS_TOO_LARGE(431, \"Request Header Fields Too Large\"),\r\n\r\n}\r\n\r\n```\n\n### Output of `uname -a` or `ver`\n\nDarwin cdh.localdomain 21.2.0 Darwin Kernel Version 21.2.0: Sun Nov 28 20:29:10 PST 2021; root:xnu-8019.61.5~1/RELEASE_ARM64_T8101 arm64\n\n### Output of `java -version`\n\njava version \"17\" 2021-09-14 LTS Java(TM) SE Runtime Environment (build 17+35-LTS-2724) Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n_No response_\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d) Maven home: ~/.m2/wrapper/dists/apache-maven-3.8.1-bin/2l5mhf2pq2clrde7f7qp1rdt5m/apache-maven-3.8.1 Java version: 17, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home Default locale: de_AT, platform encoding: UTF-8 OS name: \"mac os x\", version: \"12.1\", arch: \"aarch64\", family: \"mac\"\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22765/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22765/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
