{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/27761",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27761/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27761/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27761/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/27761",
  "id": 1363310417,
  "node_id": "I_kwDOCFbutM5RQndR",
  "number": 27761,
  "title": "In native mode a static instance cannot load resources as the resource url references a jar in the path",
  "labels": [],
  "state": "closed",
  "locked": false,
  "milestone": null,
  "comments": 1,
  "created_at": "2022-09-06T13:42:49Z",
  "updated_at": "2022-09-07T10:10:04Z",
  "closed_at": "2022-09-07T10:10:02Z",
  "active_lock_reason": null,
  "body": "Hey there,\r\n\r\nLooks like when an object is instantiated as static then the object or any objects instantiated by it are not able to load resources. \r\n\r\nIf I instantiate the object as non static, the resource URL looks like this:\r\n\r\n     resource:/diagram-interchange-dish-example.dmn\r\n\r\nIf I instantiate it as static, then the resource URL looks like this:\r\n\r\n     jar:file:/project/quarkus-bug-1.0-SNAPSHOT-runner.jar!/diagram-interchange-dish-example.dmn\r\n\r\nThis is the exception:\r\n\r\n    Caused by: java.nio.file.NoSuchFileException: /project/quarkus-bug-1.0-SNAPSHOT-runner.jar\r\n\t    at sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55)\r\n\t    at sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:149)\r\n\t    at sun.nio.fs.LinuxFileSystemProvider.readAttributes(LinuxFileSystemProvider.java:99)\r\n\t    at java.nio.file.Files.readAttributes(Files.java:1764)\r\n\t    at java.util.zip.ZipFile$Source.get(ZipFile.java:1259)\r\n\t    at java.util.zip.ZipFile$CleanableResource.<init>(ZipFile.java:733)\r\n\t    at java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n\t    at java.util.zip.ZipFile.<init>(ZipFile.java:248)\r\n\t    at java.util.zip.ZipFile.<init>(ZipFile.java:177)\r\n\t    at java.util.jar.JarFile.<init>(JarFile.java:350)\r\n\t    at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:103)\r\n\t    at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:72)\r\n\t    at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:84)\r\n\t    at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:125)\r\n\t    at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\r\n\t    at java.net.URL.openStream(URL.java:1165)\r\n\t    at my.quarkus.test.QuarkusBug$Loader.read(QuarkusBug.java:30)\r\n    \r\nQuarkus version is 2.12.0.Final\r\n\r\nLink to a minimal project to reproduce the issue: https://drive.google.com/file/d/1ZeIZypM1rCpA0SVsUW33uwi2hV1GlntF/view?usp=sharing\r\n\r\nIt is an aws lambda.\r\n\r\nBuild it with:\r\n  \r\n    mvn clean install -Pnative\r\n\r\n\r\n\r\nRegards,\r\ntarsij",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/27761/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/27761/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
