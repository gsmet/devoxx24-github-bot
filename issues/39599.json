{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39599",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39599/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39599/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39599/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/39599",
  "id": 2198003417,
  "node_id": "I_kwDOCFbutM6DAt7Z",
  "number": 39599,
  "title": "JsonObject is empty when used with resteasy-reactive",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1305687763,
      "node_id": "MDU6TGFiZWwxMzA1Njg3NzYz",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/hibernate-validator",
      "name": "area/hibernate-validator",
      "color": "0366d6",
      "default": false,
      "description": "Hibernate Validator"
    },
    {
      "id": 2552031458,
      "node_id": "MDU6TGFiZWwyNTUyMDMxNDU4",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/rest",
      "name": "area/rest",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/334",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/334",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/334/labels",
    "id": 11163455,
    "node_id": "MI_kwDOCFbutM4Aqlc_",
    "number": 334,
    "title": "3.8.6",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 117,
    "state": "closed",
    "created_at": "2024-06-10T07:54:20Z",
    "updated_at": "2024-08-28T09:33:53Z",
    "due_on": null,
    "closed_at": "2024-08-28T09:33:53Z"
  },
  "comments": 14,
  "created_at": "2024-03-20T16:39:12Z",
  "updated_at": "2024-08-07T12:08:57Z",
  "closed_at": "2024-03-26T11:42:03Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nI have the following code:\r\n\r\n```java\r\n    import io.vertx.core.json.JsonObject;\r\n\r\n    public class CreateSomethingRequest {\r\n      @NotNull\r\n      public JsonObject payload;\r\n\r\n      @Size(max = 10)\r\n       public List<@Valid Attachment> attachements;\r\n   }\r\n\r\n@Path (\"/path\")\r\npublic class Controller {\r\n    @POST\r\n    public RestResponse<Map<String, String>> createSomething(@Valid CreateSomethingRequest request) {\r\n        var id = ....\r\n        return RestResponse.status(CREATED, Map.of(\"somethingID\", id));\r\n    }\r\n}\r\n```\r\n\r\nWhen I make the following POST request:\r\n\r\n![image](https://github.com/quarkusio/quarkus/assets/19950946/2c31aa93-3a00-4e35-97cf-2bacbfa9fc53)\r\n\r\nAnd when I debug it in IntelliJ, then I see that the payload is empty:\r\n![image](https://github.com/quarkusio/quarkus/assets/19950946/f59e2c60-92fa-4c54-b4b1-024e9e431f59)\r\n\r\nIf I replace `JsonObject` with `Map<String, Object>`, then it starts working (again): \r\n\r\n![image](https://github.com/quarkusio/quarkus/assets/19950946/08a22480-eed7-4157-a869-1c0e15018d5f)\r\n\r\nStrangely, the validation is also not happening (or skipped), since the `payload` field is annotated with `@NotNull`.\r\n\r\nNote that this used to work in Quarkus 3.2.x. Since recently we migrated to 3.8.2 and we see this odd behaviour happening.\r\n\r\nAnd another odd thing is, that our integration test succeeds with RestAssured & Wiremock. This only happens if we startup the application (in dev or prd mode).\n\n### Expected behavior\n\n`JsonObject` should be mapped correctly.\n\n### Actual behavior\n\n_No response_\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\nWindows 10\n\n### Output of `java -version`\n\njdsk 17 Temurin\n\n### Quarkus version or git rev\n\n3.8.2\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nMaven 3.8.6\n\n### Additional information\n\nMy pom.xml\r\n\r\n```xml\r\n<dependencies>\r\n        <dependency>\r\n            <groupId>io.quarkus</groupId>\r\n            <artifactId>quarkus-smallrye-jwt</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.quarkus</groupId>\r\n            <artifactId>quarkus-hibernate-validator</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.quarkus</groupId>\r\n            <artifactId>quarkus-smallrye-openapi</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.quarkus</groupId>\r\n            <artifactId>quarkus-resteasy-reactive-jackson</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.quarkus</groupId>\r\n            <artifactId>quarkus-rest-client-reactive-jackson</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.quarkus</groupId>\r\n            <artifactId>quarkus-smallrye-health</artifactId>\r\n        </dependency>\r\n</dependencies>\r\n```",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/39599/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/39599/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
