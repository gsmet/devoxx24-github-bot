{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/32464",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32464/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32464/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32464/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/32464",
  "id": 1657156102,
  "node_id": "I_kwDOCFbutM5ixjIG",
  "number": 32464,
  "title": "Spring Data API Extension not updating generic mapping",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273026509,
      "node_id": "MDU6TGFiZWwxMjczMDI2NTA5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/persistence",
      "name": "area/persistence",
      "color": "FBCA04",
      "default": false,
      "description": "OBSOLETE, DO NOT USE"
    },
    {
      "id": 1341157944,
      "node_id": "MDU6TGFiZWwxMzQxMTU3OTQ0",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/triage/upstream",
      "name": "triage/upstream",
      "color": "7db4d8",
      "default": false,
      "description": "Used for issues which are caused by issues in upstream projects/dependency"
    },
    {
      "id": 1425555736,
      "node_id": "MDU6TGFiZWwxNDI1NTU1NzM2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/hibernate-orm",
      "name": "area/hibernate-orm",
      "color": "0366d6",
      "default": false,
      "description": "Hibernate ORM"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/246",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/246",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/246/labels",
    "id": 9296662,
    "node_id": "MI_kwDOCFbutM4AjdsW",
    "number": 246,
    "title": "3.0.1.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 115,
    "state": "closed",
    "created_at": "2023-04-18T08:50:05Z",
    "updated_at": "2023-05-15T14:00:32Z",
    "due_on": null,
    "closed_at": "2023-04-26T09:04:58Z"
  },
  "comments": 14,
  "created_at": "2023-04-06T10:34:40Z",
  "updated_at": "2023-04-25T04:44:37Z",
  "closed_at": "2023-04-20T13:03:59Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nI have a generic baseclass (annotated with `@MappedSuperclass`) with a one to one (unidirectional) mapping. Then i save the entity which extends the base class. The property child (which is the mapped entity) is null. Now when i create a child i also update the parent so that the parent is connected to child. But only the child is stored to the database but the parent column won't get updated with the id of the child. \r\nIf the mapping is not done with a generic it works as expected. In Spring Boot it also works with a generic.\r\n\r\n### Expected behavior\r\n\r\nThe parent should be correctly updated.\r\n\r\n### Actual behavior\r\n\r\n_No response_\r\n\r\n### How to Reproduce?\r\n\r\n1. Go to the swagger: [http://localhost:42000/test/q/swagger/]\r\n2. Call POST /test/rest/parents with the following data\r\n```\r\n{\r\n  \"child\": null,\r\n  \"id\": null,\r\n  \"name\": \"string\"\r\n}\r\n```\r\n3. Call POST /test/rest/parents/{parentId}/children with the following data\r\n`parentId = 1`\r\n```\r\n{\r\n  \"id\": null,\r\n  \"childName\": \"string\"\r\n}\r\n```\r\n4. Call GET /test/rest/parents/{parentId} with the following data\r\n`parentId = 1`\r\nNow the response should be:\r\n```\r\n{\r\n  \"child\": null,\r\n  \"id\": 1,\r\n  \"name\": \"string\"\r\n}\r\n```\r\nIf it worked correctly the child shouldn't be null\r\nThe reproducer is with version 3.0.0.CR2 it also does not work with 2.16.5\r\n[reproducerGenericMapping.zip](https://github.com/quarkusio/quarkus/files/11169477/reproducerGenericMapping.zip)\r\n\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\n_No response_\r\n\r\n### Output of `java -version`\r\n\r\n17\r\n\r\n### GraalVM version (if different from Java)\r\n\r\n_No response_\r\n\r\n### Quarkus version or git rev\r\n\r\n3.0.0.CR2\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nmaven\r\n\r\n### Additional information\r\n\r\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/32464/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32464/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
