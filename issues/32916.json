{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/32916",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32916/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32916/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32916/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/32916",
  "id": 1685150112,
  "node_id": "I_kwDOCFbutM5kcVmg",
  "number": 32916,
  "title": "Updating to Quarkus 3 via plugin fails for hibernate-orm-quickstart",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2744442223,
      "node_id": "MDU6TGFiZWwyNzQ0NDQyMjIz",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/triage/needs-reproducer",
      "name": "triage/needs-reproducer",
      "color": "FDE078",
      "default": false,
      "description": "We are waiting for a reproducer."
    },
    {
      "id": 5126481359,
      "node_id": "LA_kwDOCFbutM8AAAABMY_lzw",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/upgradetool",
      "name": "area/upgradetool",
      "color": "0366d6",
      "default": false,
      "description": "issues related to upgrade tooling (openrewrite, windup, cli, etc.)"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": null,
  "comments": 11,
  "created_at": "2023-04-26T14:30:21Z",
  "updated_at": "2023-05-16T03:30:06Z",
  "closed_at": "2023-05-16T03:30:06Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nUpgrading hibernate-orm-quickstart from 2.16.4 to 3.0.1 breaks:\r\n\r\n```\r\n[ERROR] Exception in thread \"main\" java.lang.reflect.InvocationTargetException\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR] \tat org.apache.maven.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:53)\r\n[ERROR] \tat org.apache.maven.wrapper.WrapperExecutor.execute(WrapperExecutor.java:152)\r\n[ERROR] \tat org.apache.maven.wrapper.MavenWrapperMain.main(MavenWrapperMain.java:76)\r\n[ERROR] Caused by: java.lang.AssertionError\r\n[ERROR] \tat com.sun.tools.javac.util.Assert.error(Assert.java:155)\r\n[ERROR] \tat com.sun.tools.javac.util.Assert.check(Assert.java:46)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.reportSyntaxError(JavacParser.java:449)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.reportSyntaxError(JavacParser.java:430)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.accept(JavacParser.java:471)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.accept(JavacParser.java:460)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2743)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2781)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2785)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseStatementAsBlock(JavacParser.java:2594)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseSimpleStatement(JavacParser.java:2789)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatement(JavacParser.java:2632)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:2569)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2539)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:2553)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.methodDeclaratorRest(JavacParser.java:4475)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.classOrInterfaceOrRecordBodyDeclaration(JavacParser.java:4332)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.classInterfaceOrRecordBody(JavacParser.java:4215)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.classDeclaration(JavacParser.java:3926)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.classOrRecordOrInterfaceOrEnumDeclaration(JavacParser.java:3867)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.typeDeclaration(JavacParser.java:3856)\r\n[ERROR] \tat com.sun.tools.javac.parser.JavacParser.parseCompilationUnit(JavacParser.java:3700)\r\n[ERROR] \tat com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:620)\r\n[ERROR] \tat com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:657)\r\n[ERROR] \tat org.openrewrite.java.isolated.ReloadableJava17Parser.lambda$parseInputsToCompilerAst$2(ReloadableJava17Parser.java:243)\r\n[ERROR] \tat io.micrometer.core.instrument.composite.CompositeTimer.record(CompositeTimer.java:69)\r\n[ERROR] \tat org.openrewrite.java.isolated.ReloadableJava17Parser.parseInputsToCompilerAst(ReloadableJava17Parser.java:241)\r\n[ERROR] \tat org.openrewrite.java.isolated.ReloadableJava17Parser.parseInputs(ReloadableJava17Parser.java:162)\r\n[ERROR] \tat org.openrewrite.java.Java17Parser.parseInputs(Java17Parser.java:39)\r\n[ERROR] \tat org.openrewrite.Parser.parse(Parser.java:41)\r\n[ERROR] \tat org.openrewrite.maven.MavenMojoProjectParser.processMainSources(MavenMojoProjectParser.java:265)\r\n[ERROR] \tat org.openrewrite.maven.MavenMojoProjectParser.listSourceFiles(MavenMojoProjectParser.java:143)\r\n[ERROR] \tat org.openrewrite.maven.AbstractRewriteMojo.listResults(AbstractRewriteMojo.java:279)\r\n[ERROR] \tat org.openrewrite.maven.AbstractRewriteRunMojo.execute(AbstractRewriteRunMojo.java:54)\r\n[ERROR] \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[ERROR] \t... 7 more\r\n```\r\n\r\n[Longer output](https://gist.github.com/galderz/6b667d322a0ed1951ed02a6a625a9baa)\n\n### Expected behavior\n\n_No response_\n\n### Actual behavior\n\n_No response_\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\n_No response_\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n_No response_\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/32916/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/32916/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
