{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/29606",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29606/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29606/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29606/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/29606",
  "id": 1471005960,
  "node_id": "I_kwDOCFbutM5XrcUI",
  "number": 29606,
  "title": "`Redis host not configured` exception when using certain extensions with devservices disabled (using custom TestResources)",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2184343143,
      "node_id": "MDU6TGFiZWwyMTg0MzQzMTQz",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/redis",
      "name": "area/redis",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2955097667,
      "node_id": "MDU6TGFiZWwyOTU1MDk3NjY3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devservices",
      "name": "area/devservices",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/224",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/224",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/224/labels",
    "id": 8781803,
    "node_id": "MI_kwDOCFbutM4Ahf_r",
    "number": 224,
    "title": "2.15.1.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 65,
    "state": "closed",
    "created_at": "2022-12-20T13:53:47Z",
    "updated_at": "2023-05-15T13:57:26Z",
    "due_on": null,
    "closed_at": "2022-12-21T13:57:50Z"
  },
  "comments": 4,
  "created_at": "2022-12-01T09:51:44Z",
  "updated_at": "2022-12-20T14:04:07Z",
  "closed_at": "2022-12-08T08:24:08Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nAfter https://github.com/quarkusio/quarkus/pull/29491 I receive `Redis host not configured` exception \r\nIn one old project we are using relatively large set of extensions and custom TestResources with devservices disabled.\r\n\r\nI was able to trim down the set of extensions that trigger the trouble ++ one needs to specify `quarkus.devservices.enabled=false`.\r\n\r\n```xml\r\n    <dependency>\r\n      <groupId>io.quarkus</groupId>\r\n      <artifactId>quarkus-redis-client</artifactId>\r\n    </dependency>\r\n    <dependency>\r\n      <groupId>io.quarkus</groupId>\r\n      <artifactId>quarkus-smallrye-reactive-messaging-kafka</artifactId>\r\n    </dependency>\r\n```\r\n\r\n\n\n### Expected behavior\n\nTests pass\n\n### Actual behavior\n\n`io.quarkus.runtime.configuration.ConfigurationException: Redis host not configured - you must either configure 'quarkus.redis.hosts` or 'quarkus.redis.host-provider-name' and have a bean providing the hosts programmatically.`\n\n### How to Reproduce?\n\n - get https://github.com/rsvoboda/code-with-quarkus (see commit https://github.com/rsvoboda/code-with-quarkus/commit/7bd15efeb2c49760c4b3a27a2175290bda931255)\r\n - run `mvn clean verify -Dquarkus.platform.group-id=io.quarkus -Dquarkus.platform.version=999-SNAPSHOT -Dquarkus.devservices.enabled=false`\n\n### Output of `uname -a` or `ver`\n\nmacOS\n\n### Output of `java -version`\n\nJava 17\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\nQuarkus main\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/29606/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/29606/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
