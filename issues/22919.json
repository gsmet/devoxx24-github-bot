{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22919",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22919/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22919/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22919/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/22919",
  "id": 1104782694,
  "node_id": "I_kwDOCFbutM5B2aVm",
  "number": 22919,
  "title": "Quarkus + Dev Services + Testcontainers not working with podman on macOS",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 2955097667,
      "node_id": "MDU6TGFiZWwyOTU1MDk3NjY3",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devservices",
      "name": "area/devservices",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": null,
  "comments": 9,
  "created_at": "2022-01-15T16:55:50Z",
  "updated_at": "2023-03-31T13:21:17Z",
  "closed_at": "2023-03-31T13:21:17Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nUsage of Dev Services in Quarkus on macOS with podman is not successful. \r\nEither the docker daemon and cli is expected\r\nor docker.sock is not available or accessible\r\nor some space issues\r\n\r\n### Expected behavior\r\n\r\nQuarkus with Dev Services working on macOS with podman\r\n\r\n### Actual behavior\r\n\r\ncreate a SSH tunnel to the sock\r\n```\r\n# ssh -i ~/.ssh/podman-machine-default -p 53953 -L'/tmp/podman.sock:/run/user/1000/podman/podman.sock' -N core@localhost\r\n```\r\n\r\nexport some env variables\r\n```\r\nexport DOCKER_HOST=unix:////tmp/podman.sock\r\nexport TESTCONTAINERS_CHECKS_DISABLE=true\r\nexport TESTCONTAINERS_RYUK_DISABLED=true\r\n\r\n./mvnw compile quarkus:dev\r\n```\r\n\r\n2 possible stacktraces\r\n**a) no Docker env found**\r\n\r\n```\r\n2022-01-15 18:04:37,629 DEBUG [org.tes.uti.TestcontainersConfiguration] (build-17) Testcontainers configuration overrides will be loaded from file:/Users/haddouti/.testcontainers.properties\r\n2022-01-15 18:04:37,639 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-17) Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\r\n2022-01-15 18:04:37,642 DEBUG [org.tes.doc.DockerClientProviderStrategy] (build-17) Trying out strategy: EnvironmentAndSystemPropertyClientProviderStrategy\r\n2022-01-15 18:04:42,749 DEBUG [com.git.doc.zer.sha.org.apa.hc.cli.htt.imp.io.PoolingHttpClientConnectionManager] (build-17) Shutdown connection pool GRACEFUL\r\n2022-01-15 18:04:42,754 DEBUG [com.git.doc.zer.sha.org.apa.hc.cli.htt.imp.io.PoolingHttpClientConnectionManager] (build-17) Connection pool shut down\r\n2022-01-15 18:04:42,757 DEBUG [org.tes.doc.DockerClientProviderStrategy] (build-17) EnvironmentAndSystemPropertyClientProviderStrategy: failed with exception TimeoutException (Timeout waiting for result with exception). Root cause LastErrorException ([61] Connection refused)\r\n2022-01-15 18:04:42,762 DEBUG [org.tes.doc.DockerClientProviderStrategy] (build-17) Trying out strategy: UnixSocketClientProviderStrategy\r\n2022-01-15 18:04:42,765 DEBUG [org.tes.doc.DockerClientProviderStrategy] (build-17) UnixSocketClientProviderStrategy: failed with exception InvalidConfigurationException (Could not find unix domain socket). Root cause NoSuchFileException (/var/run/docker.sock)\r\n2022-01-15 18:04:42,769 INFO  [org.tes.doc.DockerMachineClientProviderStrategy] (build-17) docker-machine executable was not found on PATH ([/usr/local/bin, /usr/bin, /bin, /usr/sbin, /sbin, /usr/local/go/bin, /usr/local/share/dotnet, /opt/X11/bin, ~/.dotnet/tools])\r\n2022-01-15 18:04:42,771 ERROR [org.tes.doc.DockerClientProviderStrategy] (build-17) Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\r\n2022-01-15 18:04:42,772 ERROR [org.tes.doc.DockerClientProviderStrategy] (build-17)     EnvironmentAndSystemPropertyClientProviderStrategy: failed with exception TimeoutException (Timeout waiting for result with exception). Root cause LastErrorException ([61] Connection refused)\r\n2022-01-15 18:04:42,773 ERROR [org.tes.doc.DockerClientProviderStrategy] (build-17)     UnixSocketClientProviderStrategy: failed with exception InvalidConfigurationException (Could not find unix domain socket). Root cause NoSuchFileException (/var/run/docker.sock)\r\n2022-01-15 18:04:42,774 ERROR [org.tes.doc.DockerClientProviderStrategy] (build-17) As no valid configuration was found, execution cannot continue\r\n2022-01-15 18:04:42,884 DEBUG [io.qua.dep.uti.ExecUtil] (build-17) docker version 3.4.4\r\n2022-01-15 18:04:43,670 DEBUG [io.qua.dep.IsDockerWorking] (build-17) Docker daemon found. Version: '3.4.0'\r\n2022-01-15 18:04:43,680 TRACE [io.qua.builder] (build-17) Finished step \"io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor#startKafkaDevService\" in 6072 ms\r\n2022-01-15 18:04:43,680 TRACE [io.qua.builder] (build-17) Dependency of \"io.quarkus.deployment.steps.DevServicesConfigBuildStep#setup\" finished; 0 remaining\r\n2022-01-15 18:04:43,681 TRACE [io.qua.builder] (build-38) Starting step \"io.quarkus.deployment.steps.DevServicesConfigBuildStep#setup\"\r\n2022-01-15 18:04:43,681 TRACE [io.qua.builder] (build-38) Finished step \"io.quarkus.deployment.steps.DevServicesConfigBuildStep#setup\" in 0 ms\r\n2022-01-15 18:04:43,682 TRACE [io.qua.builder] (build-38) Dependency of \"io.quarkus.vertx.http.deployment.devmode.console.ConfigEditorProcessor#handleRequests\" finished; 0 remaining\r\n2022-01-15 18:04:43,682 TRACE [io.qua.builder] (build-38) Dependency of \"io.quarkus.swaggerui.deployment.SwaggerUiProcessor#getSwaggerUiFinalDestination\" finished; 0 remaining\r\n2022-01-15 18:04:43,682 TRACE [io.qua.builder] (build-38) Dependency of \"io.quarkus.vertx.http.deployment.devmode.console.DevConsoleProcessor#runtimeTemplates\" finished; 3 remaining\r\n...\r\n...\r\n\r\n\r\n2022-01-15 18:04:43,754 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2022-01-15 18:04:43,839 INFO  [org.jbo.threads] (main) JBoss Threads version 3.4.2.Final\r\n2022-01-15 18:04:43,941 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor#startKafkaDevService threw an exception: java.lang.RuntimeException: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:116)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:114)\r\n\tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:146)\r\n\tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:188)\r\n\tat org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:101)\r\n\tat com.github.dockerjava.api.DockerClientDelegate.listContainersCmd(DockerClientDelegate.java:187)\r\n\tat io.quarkus.devservices.common.ContainerLocator.lookup(ContainerLocator.java:32)\r\n\tat io.quarkus.devservices.common.ContainerLocator.locateContainer(ContainerLocator.java:45)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafka(DevServicesKafkaProcessor.java:228)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:103)\r\n\t... 11 more\r\n\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:252)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:93)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:456)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:67)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:149)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:105)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:145)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:63)\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor#startKafkaDevService threw an exception: java.lang.RuntimeException: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:116)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:114)\r\n\tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:146)\r\n\tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:188)\r\n\tat org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:101)\r\n\tat com.github.dockerjava.api.DockerClientDelegate.listContainersCmd(DockerClientDelegate.java:187)\r\n\tat io.quarkus.devservices.common.ContainerLocator.lookup(ContainerLocator.java:32)\r\n\tat io.quarkus.devservices.common.ContainerLocator.locateContainer(ContainerLocator.java:45)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafka(DevServicesKafkaProcessor.java:228)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:103)\r\n\t... 11 more\r\n\r\n\tat io.quarkus.builder.Execution.run(Execution.java:116)\r\n\tat io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:161)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:328)\r\n\t... 9 more\r\nCaused by: java.lang.RuntimeException: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:116)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:114)\r\n\tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:146)\r\n\tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:188)\r\n\tat org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:101)\r\n\tat com.github.dockerjava.api.DockerClientDelistContainersCmd(DockerClientDelegate.java:187)\r\n\tat io.quarkus.devservices.common.ContainerLocator.lookup(ContainerLocator.java:32)\r\n\tat io.quarkus.devservices.common.ContainerLocator.locateContainer(ContainerLocator.java:45)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafka(DevServicesKafkaProcessor.java:228)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:103)\r\n\t... 11 more\r\n\r\n\r\n```\r\n\r\n**b) no space left**\r\n\r\n\r\n```\r\n2022-01-15 17:48:20,706 TRACE [org.jbo.threads] (build-20) Thread \"Thread[build-20,5,build group]\" exiting\r\n2022-01-15 17:48:20,745 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2022-01-15 17:48:20,837 INFO  [org.jbo.threads] (main) JBoss Threads version 3.4.2.Final\r\n2022-01-15 17:48:20,944 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor#startKafkaDevService threw an exception: java.lang.RuntimeException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:116)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:336)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:317)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.lambda$startKafka$5(DevServicesKafkaProcessor.java:240)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafka(DevServicesKafkaProcessor.java:248)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:103)\r\n\t... 11 more\r\nCaused by: org.testcontainers.containers.ContainerFetchException: Can't get Docker image: RemoteDockerImage(imageName=docker.io/vectorized/redpanda:v21.5.5, imagePullPolicy=DefaultPullPolicy())\r\n\tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1326)\r\n\tat org.testcontainers.containers.GenericContainer.logger(GenericContainer.java:643)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:326)\r\n\t... 16 more\r\nCaused by: com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {\"cause\":\"open /var/tmp/700274017: no space left on device\",\"message\":\"Failed transform image summaries: failed to obtain summary for image 14119a10abf4669e8cdbdff324a9f9605d99697215a0d21c360fe8dfa8471bab: open /var/tmp/700274017: no space left on device\",\"response\":500}\r\n\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.get(DefaultInvocationBuilder.java:202)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.get(DefaultInvocationBuilder.java:74)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.ListImagesCmdExec.execute(ListImagesCmdExec.java:41)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.ListImagesCmdExec.execute(ListImagesCmdExec.java:16)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:21)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\r\n\tat org.testcontainers.images.LocalImagesCache.maybeInitCache(LocalImagesCache.java:68)\r\n\tat org.testcontainers.images.LocalImagesCache.get(LocalImagesCache.java:32)\r\n\tat org.testcontainers.images.AbstractImagePullPolicy.shouldPull(AbstractImagePullPolicy.java:18)\r\n\tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:67)\r\n\tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:28)\r\n\tat org.testcontainers.utility.LazyFuture.getResolvedValue(LazyFuture.java:17)\r\n\tat org.testcontainers.utility.LazyFuture.get(LazyFuture.java:39)\r\n\tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1324)\r\n\t... 18 more\r\n\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:252)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:93)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:456)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:67)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:149)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:105)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:145)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:63)\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor#startKafkaDevService threw an exception: java.lang.RuntimeException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:116)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:336)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:317)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.lambda$startKafka$5(DevServicesKafkaProcessor.java:240)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafka(DevServicesKafkaProcessor.java:248)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:103)\r\n\t... 11 more\r\nCaused by: org.testcontainers.containers.ContainerFetchException: Can't get Docker image: RemoteDockerImage(imageName=docker.io/vectorized/redpanda:v21.5.5, imagePullPolicy=DefaultPullPolicy())\r\n\tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1326)\r\n\tat org.testcontainers.containers.GenericContainer.logger(GenericContainer.java:643)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:326)\r\n\t... 16 more\r\nCaused by: com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {\"cause\":\"open /var/tmp/700274017: no space left on device\",\"message\":\"Failed transform image summaries: failed to obtain summary for image 14119a10abf4669e8cdbdff324a9f9605d99697215a0d21c360fe8dfa8471bab: open /var/tmp/700274017: no space left on device\",\"response\":500}\r\n\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.get(DefaultInvocationBuilder.java:202)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.get(DefaultInvocationBuilder.java:74)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.ListImagesCmdExec.execute(ListImagesCmdExec.java:41)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.ListImagesCmdExec.execute(ListImagesCmdExec.java:16)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:21)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\r\n\tat org.testcontainers.images.LocalImagesCache.maybeInitCache(LocalImagesCache.java:68)\r\n\tat org.testcontainers.images.LocalImagesCache.get(LocalImagesCache.java:32)\r\n\tat org.testcontainers.images.AbstractImagePullPolicy.shouldPull(AbstractImagePullPolicy.java:18)\r\n\tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:67)\r\n\tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:28)\r\n\tat org.testcontainers.utility.LazyFuture.getResolvedValue(LazyFuture.java:17)\r\n\tat org.testcontainers.utility.LazyFuture.get(LazyFuture.java:39)\r\n\tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1324)\r\n\t... 18 more\r\n\r\n\tat io.quarkus.builder.Execution.run(Execution.java:116)\r\n\tat io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:161)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:328)\r\n\t... 9 more\r\nCaused by: java.lang.RuntimeException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:116)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:336)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:317)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.lambda$startKafka$5(DevServicesKafkaProcessor.java:240)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafka(DevServicesKafkaProcessor.java:248)\r\n\tat io.quarkus.kafka.client.deployment.DevServicesKafkaProcessor.startKafkaDevService(DevServicesKafkaProcessor.java:103)\r\n\t... 11 more\r\nCaused by: org.testcontainers.containers.ContainerFetchException: Can't get Docker image: RemoteDockerImage(imageName=docker.io/vectorized/redpanda:v21.5.5, imagePullPolicy=DefaultPullPolicy())\r\n\tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1326)\r\n\tat org.testcontainers.containers.GenericContainer.logger(GenericContainer.java:643)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:326)\r\n\t... 16 more\r\nCaused by: com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {\"cause\":\"open /var/tmp/700274017: no space left on device\",\"message\":\"Failed transform image summaries: failed to obtain summary for image 14119a10abf4669e8cdbdff324a9f9605d99697215a0d21c360fe8dfa8471bab: open /var/tmp/700274017: no space left on device\",\"response\":500}\r\n\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.get(DefaultInvocationBuilder.java:202)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.get(DefaultInvocationBuilder.java:74)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.ListImagesCmdExec.execute(ListImagesCmdExec.java:41)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.ListImagesCmdExec.execute(ListImagesCmdExec.java:16)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.exec.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:21)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\r\n\tat org.testcontainers.images.LocalImagesCache.maybeInitCache(LocalImagesCache.java:68)\r\n\tat org.testcontainers.images.LocalImagesCache.get(LocalImagesCache.java:32)\r\n\tat org.testcontainers.images.AbstractImagePullPolicy.shouldPull(AbstractImagePullPolicy.java:18)\r\n\tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:67)\r\n\tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:28)\r\n\tat org.testcontainers.utility.LazyFuture.getResolvedValue(LazyFuture.java:17)\r\n\tat org.testcontainers.utility.LazyFuture.get(LazyFuture.java:39)\r\n\tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1324)\r\n\t... 18 more\r\n\r\n```\r\n\r\n### How to Reproduce?\r\n\r\nsee above\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\nDarwin Haf 20.6.0 Darwin Kernel Version 20.6.0: Tue Oct 12 18:33:42 PDT 2021; root:xnu-7195.141.8~1/RELEASE_X86_64 x86_64\r\n\r\n### Output of `java -version`\r\n\r\nopenjdk version \"11.0.11\" 2021-04-20 OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9) OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n\r\n### GraalVM version (if different from Java)\r\n\r\n_No response_\r\n\r\n### Quarkus version or git rev\r\n\r\n2.6.2.Final\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\n\r\n### Additional information\r\n\r\n```\r\npodman version\r\nClient:\r\nVersion:      3.4.4\r\nAPI Version:  3.4.4\r\nGo Version:   go1.17.3\r\nBuilt:        Wed Dec  8 19:41:11 2021\r\nOS/Arch:      darwin/amd64\r\n\r\nServer:\r\nVersion:      3.4.0\r\nAPI Version:  3.4.0\r\nGo Version:   go1.16.8\r\nBuilt:        Thu Sep 30 21:40:21 2021\r\nOS/Arch:      linux/amd64\r\n```\r\n\r\nprobably similar issue: #16541\r\n\r\nFYI @myfear\r\n",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/22919/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/22919/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
