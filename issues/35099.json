{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/35099",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35099/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35099/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35099/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/35099",
  "id": 1827451127,
  "node_id": "I_kwDOCFbutM5s7LD3",
  "number": 35099,
  "title": "Use a non-blocking handler for SmallRye Health Status",
  "labels": [
    {
      "id": 985346622,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjI=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/enhancement",
      "name": "kind/enhancement",
      "color": "a2eeef",
      "default": false,
      "description": "New feature or request"
    },
    {
      "id": 1283619446,
      "node_id": "MDU6TGFiZWwxMjgzNjE5NDQ2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye",
      "name": "area/smallrye",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2236032169,
      "node_id": "MDU6TGFiZWwyMjM2MDMyMTY5",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/health",
      "name": "area/health",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/302",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/302",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/302/labels",
    "id": 10458697,
    "node_id": "MI_kwDOCFbutM4An5ZJ",
    "number": 302,
    "title": "3.7.0",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 51,
    "state": "closed",
    "created_at": "2024-01-23T17:04:43Z",
    "updated_at": "2024-01-24T18:38:28Z",
    "due_on": null,
    "closed_at": "2024-01-24T12:34:43Z"
  },
  "comments": 8,
  "created_at": "2023-07-29T11:39:11Z",
  "updated_at": "2024-08-30T08:39:04Z",
  "closed_at": "2024-01-23T14:17:45Z",
  "active_lock_reason": null,
  "body": "### Description\n\nThe Quarkus handlers for the SmallRye Health are blocking request handlers. \r\n\r\nThis requires them to enqueue in the blocking queue even for the simplest non-blocking requests, which might delay them if there is a high load. \r\n\r\nFor the Keycloak project, a simple liveness probe is all-local, and there is no need to queue the request. So the request should return the result immediately. We're experimenting with limiting the queue of the executor pool for load shedding, which would then shed also the liveness probes, which is undesired. \r\n\r\n\n\n### Implementation ideas\n\nSmallRye Health now supports async responses:\r\n\r\nhttps://github.com/smallrye/smallrye-health/blob/25d4f0bd75f00054ad5adba103fecce5c83eecbd/implementation/src/main/java/io/smallrye/health/SmallRyeHealthReporter.java#L252-L256\r\n\r\nI'll prepare a PR for this.",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/35099/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 1,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/35099/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
