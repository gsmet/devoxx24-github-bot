{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/25787",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25787/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25787/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25787/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/25787",
  "id": 1248045105,
  "node_id": "I_kwDOCFbutM5KY6gx",
  "number": 25787,
  "title": "Failed to resolve dependencies for gradle build",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273026591,
      "node_id": "MDU6TGFiZWwxMjczMDI2NTkx",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/gradle",
      "name": "area/gradle",
      "color": "0366d6",
      "default": false,
      "description": "Gradle"
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/183",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/183",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/183/labels",
    "id": 7917759,
    "node_id": "MI_kwDOCFbutM4AeNC_",
    "number": 183,
    "title": "2.10.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 253,
    "state": "closed",
    "created_at": "2022-04-27T08:14:38Z",
    "updated_at": "2023-01-13T10:46:24Z",
    "due_on": null,
    "closed_at": "2022-06-09T16:06:42Z"
  },
  "comments": 2,
  "created_at": "2022-05-25T12:47:09Z",
  "updated_at": "2022-05-30T06:55:31Z",
  "closed_at": "2022-05-30T06:55:27Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nAfter generating a quarkus project, I'm unable to build the project using gradle.\r\n\r\nI was able to work around the issue by re-ording the maven repositories in the settings.gradle file\r\n```gradle\r\npluginManagement {\r\n    repositories {\r\n        mavenLocal() // <--- This is the problem\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    plugins {\r\n        id \"${quarkusPluginId}\" version \"${quarkusPluginVersion}\"\r\n    }\r\n}\r\nrootProject.name='release-workflow-report'\r\n```\r\n\r\nNormally, this would be fine, but only if you already have all of the dependencies in you local maven nexus, but if you don't, then you see the error above. To overcome the issue I had to re-order the `repositories` to this\r\n```gradle\r\npluginManagement {\r\n    repositories {\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        mavenLocal() // <--- FTFY\r\n    plugins {\r\n        id \"${quarkusPluginId}\" version \"${quarkusPluginVersion}\"\r\n    }\r\n}\r\nrootProject.name='release-workflow-report'\r\n```\r\nAfter that it was able to build the project and all the dependencies were downloaded. I can understand why you have `mavenLocal()` first, as you don't want to make the round trip to the server each time, but for a first time user this is ridiculous. I was almost ready to give up, but I wanted to try it out.\r\n\r\n### Expected behavior\r\n\r\nAfter generating the quarkus project, that I can build the project with gradle\r\n\r\n### Actual behavior\r\n\r\nI can't build the project because I do not have all of the dependencies locally\r\n\r\n### How to Reproduce?\r\n\r\n1. Build the project using quarkus CLI\r\n```\r\nquarkus create org.acme:report-generator:1.0.0 --gradle --package-name=report.generator\r\n```\r\n2. Build the project (with no dependencies in your local maven repository)\r\n```\r\n$ ./gradlew build\r\nDownloading https://services.gradle.org/distributions/gradle-7.4.2-bin.zip\r\n...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\r\n\r\nWelcome to Gradle 7.4.2!\r\n\r\nHere are the highlights of this release:\r\n - Aggregated test and JaCoCo reports\r\n - Marking additional test source directories as tests in IntelliJ\r\n - Support for Adoptium JDKs in Java toolchains\r\n\r\nFor more details see https://docs.gradle.org/7.4.2/release-notes.html\r\n\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project 'release-workflow-report'.\r\n> Could not resolve all files for configuration ':classpath'.\r\n   > Could not find guice-4.2.2-no_aop.jar (com.google.inject:guice:4.2.2).\r\n     Searched in the following locations:\r\n         file:/D:/dev/maven-repo/com/google/inject/guice/4.2.2/guice-4.2.2-no_aop.jar\r\n\r\n* Try:\r\n> Run with --stacktrace option to get the stack trace.\r\n> Run with --info or --debug option to get more log output.\r\n> Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m 3s\r\n```\r\n\r\n### Output of `uname -a` or `ver`\r\n\r\nMINGW64_NT-10.0-18363 xxxxxx 3.1.7-340.x86_64 2021-03-26 22:17 UTC x86_64 Msys\r\n\r\n### Output of `java -version`\r\n\r\nopenjdk version \"11.0.15\" 2022-04-19\r\n\r\n### GraalVM version (if different from Java)\r\n\r\ngraalvm-ce-java11-22.1.0\r\n\r\n### Quarkus version or git rev\r\n\r\n2.9.1.Final\r\n\r\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\r\n\r\nGradle 7.4.2\r\n\r\n### Additional information\r\n\r\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/25787/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/25787/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
