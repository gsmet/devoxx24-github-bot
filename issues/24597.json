{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/24597",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24597/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24597/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24597/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/24597",
  "id": 1184526320,
  "node_id": "I_kwDOCFbutM5Gmm_w",
  "number": 24597,
  "title": "Warning regarding MP Metrics API",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1283619446,
      "node_id": "MDU6TGFiZWwxMjgzNjE5NDQ2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye",
      "name": "area/smallrye",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2236031886,
      "node_id": "MDU6TGFiZWwyMjM2MDMxODg2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/metrics",
      "name": "area/metrics",
      "color": "0366d6",
      "default": false,
      "description": ""
    },
    {
      "id": 2236032526,
      "node_id": "MDU6TGFiZWwyMjM2MDMyNTI2",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/fault-tolerance",
      "name": "area/fault-tolerance",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/189",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/189",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/189/labels",
    "id": 8065991,
    "node_id": "MI_kwDOCFbutM4AexPH",
    "number": 189,
    "title": "2.11.0.CR1",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 244,
    "state": "closed",
    "created_at": "2022-06-09T10:38:20Z",
    "updated_at": "2023-01-13T10:47:01Z",
    "due_on": null,
    "closed_at": "2022-07-13T14:14:46Z"
  },
  "comments": 10,
  "created_at": "2022-03-29T08:48:33Z",
  "updated_at": "2022-08-16T15:33:45Z",
  "closed_at": "2022-08-16T15:33:26Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nThe `smallrye-fault-tolerance` extension has a dependency on `io.smallrye:smallrye-fault-tolerance` which contains the class `MetricsProvider` which has an injection for `Provider<MetricRegistry>`: https://github.com/smallrye/smallrye-fault-tolerance/blob/798a919e36973cf343d618722ef8a1f463c2706a/implementation/fault-tolerance/src/main/java/io/smallrye/faulttolerance/metrics/MetricsProvider.java#L62-L64\r\n\r\nWhen building an application this results in a warning being logged by the `micrometer` extension: https://github.com/quarkusio/quarkus/blob/37a4d5f1575acf01c0caee22262d1ba6fad0ed2b/extensions/micrometer/deployment/src/main/java/io/quarkus/micrometer/deployment/binder/mpmetrics/MicroprofileMetricsProcessor.java#L97-L102\n\n### Expected behavior\n\nI think it would make sense for Quarkus to have an exception for this particular injection, since it is part of the platform and developers shouldn't have to hunt this down as Quarkus won't be removing the compatibility layer as long as it depends on it itself.\n\n### Actual behavior\n\nAn application using both `smallrye-fault-tolerance` and `micrometer` will see a corresponding warning when building the application.\n\n### How to Reproduce?\n\n_No response_\n\n### Output of `uname -a` or `ver`\n\n_No response_\n\n### Output of `java -version`\n\n_No response_\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n2.8.0.CR1\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\n_No response_\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/24597/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24597/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
