{
  "url": "https://api.github.com/repos/quarkusio/quarkus/issues/24384",
  "repository_url": "https://api.github.com/repos/quarkusio/quarkus",
  "labels_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24384/labels{/name}",
  "comments_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24384/comments",
  "events_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24384/events",
  "html_url": "https://github.com/quarkusio/quarkus/issues/24384",
  "id": 1172887618,
  "node_id": "I_kwDOCFbutM5F6NhC",
  "number": 24384,
  "title": "Hot reload does not build multi module project in correct order",
  "labels": [
    {
      "id": 985346620,
      "node_id": "MDU6TGFiZWw5ODUzNDY2MjA=",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug",
      "name": "kind/bug",
      "color": "d73a4a",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 1273039603,
      "node_id": "MDU6TGFiZWwxMjczMDM5NjAz",
      "url": "https://api.github.com/repos/quarkusio/quarkus/labels/area/devmode",
      "name": "area/devmode",
      "color": "0366d6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "milestone": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/milestones/184",
    "html_url": "https://github.com/quarkusio/quarkus/milestone/184",
    "labels_url": "https://api.github.com/repos/quarkusio/quarkus/milestones/184/labels",
    "id": 7922797,
    "node_id": "MI_kwDOCFbutM4AeORt",
    "number": 184,
    "title": "2.7.6.Final",
    "description": "",
    "creator": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 171,
    "state": "closed",
    "created_at": "2022-04-28T08:08:41Z",
    "updated_at": "2022-05-30T11:25:22Z",
    "due_on": null,
    "closed_at": "2022-05-30T11:25:22Z"
  },
  "comments": 2,
  "created_at": "2022-03-17T20:35:46Z",
  "updated_at": "2022-05-05T08:25:36Z",
  "closed_at": "2022-03-25T10:01:17Z",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\nI have a multi module project, where I get exceptions on hot reload.\r\nIf I only change one module at a time (and hot reload), no exception is thrown.\r\n\r\nIf i change multiple modules at the same time however, I get the exception from below.\r\n\r\nIn a related bug, #23164, only one additionalModule existed other than the applicationArchive. #24187 was the fix for that situation.\r\n\r\nHowever, in my real world applications, I have a few modules more.. about 20 of them iirc.\r\n\r\nMy project structure looks like this:\r\nparent\r\n- service (business logic)\r\n- rest (web stuff, has dependency on service)\r\n- backend (module containing the quarkus plugin, has dependency on rest)\r\n\r\nDoing a change in service (e.g. adding a method), using the new method in rest, and then reloading the changes in these 2 modules causes the exception.\n\n### Expected behavior\n\nHot reload works flawlessly even when changing multiple modules at once.\n\n### Actual behavior\n\n```\r\nListening for transport dt_socket at address: 5005\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\r\n -/ /_/ / /_/ / __ |/ , _/ ,< / /_/ /\\ \\\r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\r\n2022-03-17 20:17:21,863 INFO  [io.quarkus] (Quarkus Main Thread) backend 1.0.0-SNAPSHOT on JVM (powered by Quarkus 999-SNAPSHOT) started in 1.481s. Listening on: http://localhost:8080\r\n\r\n2022-03-17 20:17:21,875 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2022-03-17 20:17:21,876 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, resteasy-reactive, smallrye-context-propagation, vertx]                                                                                                                            \r\n                                                                                                                                       \r\n--                                                                                                                                     \r\nCompilation Failed:                                                                                                                    \r\nC:\\Users\\Martin\\IdeaProjects\\ap-test\\rest\\src\\main\\java\\org\\acme\\rest\\ExampleResource.java:24: error: method greet in class org.acme.service.ExampleService cannot be applied to given types;                                                                                 \r\n        return service.greet(\"Quarkus\");                                                                                               \r\n                      ^                                                                                                                \r\n  required: java.lang.String,java.lang.String                                                                                          \r\n  found:    java.lang.String                                                                                                           \r\n  reason: actual and formal argument lists differ in length     \r\n```\n\n### How to Reproduce?\n\nDownload the reproducer: \r\n[ap-test.zip](https://github.com/quarkusio/quarkus/files/8291575/ap-test.zip)\r\n\r\n\r\n1. mvn clean compile quarkus:dev\r\n2. open dev ui - this works\r\n3. In org.acme.service.ExampleService, adder another parameter to greet()\r\n4. In org.acme.rest.ExampleResource, change the resource to call the changed greet method.\r\n5. reload the dev ui\r\n6. compilation error from above happens\r\n7. Stop quarkus\r\n8. mvn clean compile quarkus:dev\r\n9. open dev ui - this works. The source itself is compileable by maven, but not by quarkus.\n\n### Output of `uname -a` or `ver`\n\nMicrosoft Windows [Version 10.0.22000.556]\n\n### Output of `java -version`\n\nopenjdk 17.0.1 2021-10-19 OpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12) OpenJDK 64-Bit Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\n\n### GraalVM version (if different from Java)\n\n_No response_\n\n### Quarkus version or git rev\n\n2.7.5.Final\n\n### Build tool (ie. output of `mvnw --version` or `gradlew --version`)\n\nApache Maven 3.8.3 (ff8e977a158738155dc465c6a97ffaf31982d739) Maven home: C:\\tools\\java\\maven Java version: 17.0.1, vendor: Eclipse Adoptium, runtime: C:\\tools\\java\\17-temurin Default locale: de_DE, platform encoding: Cp1252 OS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\n\n### Additional information\n\n_No response_",
  "reactions": {
    "url": "https://api.github.com/repos/quarkusio/quarkus/issues/24384/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/quarkusio/quarkus/issues/24384/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
